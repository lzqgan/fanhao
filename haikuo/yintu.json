[{"last_chapter_rule":"","title":"安卓壁纸","author":"Zruiry","version":0,"type":"other","url":"http://service.picasso.adesk.com/v1/vertical/category/fyclass/vertical?limit=30&skip=fypage@-1@*30@&adult=false&first=0&order=fysort","col_type":"pic_3","class_name":"美女&动漫&风景&游戏&文字&视觉&情感&设计&明星&物语&艺术&男人&卡通&机械&城市&动物&运动&影视","class_url":"4e4d610cdf714d2966000000&4e4d610cdf714d2966000003&4e4d610cdf714d2966000002&4e4d610cdf714d2966000007&5109e04e48d5b9364ae9ac45&4fb479f75ba1c65561000027&4ef0a35c0569795756000000&4fb47a195ba1c60ca5000222&5109e05248d5b9368bb559dc&4fb47a465ba1c65561000028&4ef0a3330569795757000000&4e4d610cdf714d2966000006&4e4d610cdf714d2966000004&4e4d610cdf714d2966000005&4fb47a305ba1c60ca5000223&4e4d610cdf714d2966000001&4ef0a34e0569795757000001&4e58c2570569791a19000000","area_name":"","area_url":"","sort_name":"最新&热门","year_name":"","sort_url":"new&hot","year_url":"","find_rule":"js: var json = {};\r\neval('json=' + getResCode());\r\nvar res = {};\r\nvar d = [];\r\nfor (var i = 0; i < json.res.vertical.length; i++) {\r\n var r = {};\r\n var j = json.res.vertical[i];\n r.title = 'rank：'+j.rank;\r\n r.desc = j.desc;\r\n r.pic_url = j.img;\n r.url = j.wp + '#.jpg';\r\n if (r.title !== null && r.title !== undefined && r.title !== '')\nd.push(r);\r\n}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js: var json = {};\r\neval('json=' + getResCode());\r\nvar res = {};\r\nvar d = [];\r\nfor (var i = 0; i < json.res.vertical.length; i++) {\r\n var r = {};\r\n var j = json.res.vertical[i];\r\n r.title = '图片';\n r.url = j.wp + '#.jpg';\r\n r.desc = j.ratio.y+'x'+j.ratio.x;\n r.content = j.tag;\r\n r.img = j.img;\r\n if (r.title !== null && r.title !== undefined && r.title !== '') d.push(r);\r\n}\r\nres.data = d;\r\nsetSearchResult(res);","search_url":"http://so.picasso.adesk.com/v1/search/vertical/resource/**?limit=30&channel=adesk&skip=fypage@-1@*30@&adult=false&first=0&order=new","group":"⑦美图","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"pic_1_full","sdetail_find_rule":"js:\r\nvar res = {};\r\nvar items = [];\n\nitems.push({\r\n    title: '““请耐心等待加载原图””',\n    col_type: 'text_center_1'\r\n});\n\nitems.push({\n    pic_url: getUrl(),\r\n    url: getUrl()\r\n});\n\r\nres.data = items;\r\nsetHomeResult(res);","ua":"auto","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","title":"Unsplash","author":"小棉袄🌞","version":11,"type":"picture","url":"https://unsplash.dogedoge.com/wallpapers","col_type":"card_pic_2","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\nlet arr = pdfa(getResCode(), \"body&&a[href^=/wallpapers/]\");\nfor (let it of arr) {\n    if (it.includes(\"<img \")) {\n        let url = pdfh(it, \"a&&href\").replace(\"/wallpapers/\", \"\");\n        let id = url == \"phone\" ? \"\" : \"/\" + url\n        url = \"https://unsplash.dogedoge.com/napi/landing_pages/wallpapers\" + id + \"?page=fypage&per_page=12\"\n        d.push({\n            title: pdfh(it, \"div,-1&&Text\"),\n            url: url,\n            col_type: \"card_pic_2\",\n            desc: \"0\",\n            pic_url: pd(it, \"img&&src\")\n        });\n\n    }\n}\nsetResult(d);","searchFind":"","search_url":"","group":"⑦美图","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\ntry {\n    var data = JSON.parse(getResCode());\n    data = data.photos\n    for (let it of data) {\n        d.push({\n            title: it.description,\n            url: it.urls.regular + \"@Referer=#.jpg\",\n            col_type: \"pic_3\",\n            desc: \"\",\n            pic_url: it.urls.thumb + \"@Referer=\"\n        });\n    }\n} catch (e) {\n    log(e)\n}\n\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","title":"图虫摄影","author":"wingeva","version":1,"type":"picture","url":"hiker://empty/#/$fy_all{fyAll}/$fy_page{fypage}","col_type":"pic_2_card","class_name":"热门&最新&精选&风光&旅行&建筑&人文","class_url":"-1&-2&-3&693&743&767&133","area_name":"人像&美女&日系&小清新&cos","area_url":"131&564&2511&7471&3573","sort_name":"","year_name":"逆光&私房&爬楼&性感&汉服&少女&银杏&樱花","sort_url":"","year_url":"逆光&私房&爬楼&性感&汉服&少女&银杏&樱花","find_rule":"js:\n//year分类用于存放自定义标签\nlet fyall_url = MY_URL.match(/\\$fy_all\\{([^\\}]+)\\}/)[1];\nlet fypage_url = MY_URL.match(/\\$fy_page\\{([^\\}]+)\\}/)[1];\nvar discover_url=\"https://api.tuchong.com/discover/fyclass/category?os_api=25&device_type=MI&device_platform=android&ssmix=a&manifest_version_code=232&dpi=450&abflag=0&uuid=329642135962135&version_code=232&count=20&app_name=tuchong&version_name=2.3.2&openudid=53fa4df32154dfa3&resolution=1280*1000&os_version=5.0.1&ac=wifi&aid=0&page=fypage\";\nvar tag_url=\"https://tuchong.com/rest/tags/fyyear/posts?page=fypage&count=60\";\n\nvar json = JSON.parse(getRule());\nvar url=json.firstHeader==\"year\"?tag_url.replace(\"fyyear\",fyall_url).replace(\"fypage\",fypage_url):discover_url.replace(\"fyclass\",fyall_url).replace(\"fypage\",fypage_url);\ntry {\n  var html=fetch(url,{});\n  var jshtml=JSON.parse(html);\n  var plist=json.firstHeader==\"year\"?jshtml.postList:jshtml.post_list;\n  \n  var data = plist.map(function(o) {\n    var tagstr=\"\";\n    var tags=o.tags;\n    for(i in tags)\n      tagstr+=tags[i].tag_name+\",\";\n    putVar2('tuchong@text@'+o.post_id,o.excerpt);\n  return {\n    title: o.title,\n    desc: o.excerpt,\n    pic_url: json.firstHeader==\"year\"?o.cover_image_src:o.title_image.url,\n//.replace(/\\/g\\//,\"/lr/\")\n    url:(\"#noHistory##noRecordHistory#hiker://empty/##\"+JSON.stringify(o.images)+\"##\"+o.title+\"##\"+o.published_at.split(\" \")[0]+\"发布•\"+o.favorites+\"喜欢•\"+o.comments+\"点评\"+''+\"##\"+o.url+\"##\"+o.post_id+\"##\"+tagstr+\"##\"+(json.firstHeader==\"year\"?'':JSON.stringify({name:o.site.name,icon:o.site.icon,url:o.site.url}))+\"##\").replace(/[;\\r\\n]/g,\"\")\n//\"pics://\"+pics\n  };\n});\n\nsetHomeResult({ data: data });\n\n} catch (e) {\n    \n}","searchFind":"js:\ntry {\n\n  var plist=JSON.parse(getResCode()).postList;\n  var data = plist?plist.map(function(o) {\n    var tagstr=\"\";\n    var tags=o.tags;\n    for(i in tags)\n      tagstr+=tags[i].tag_name+\",\";\nputVar2('tuchong@text@'+o.post_id,o.excerpt);\n\n  return {\n    title: o.title+\" \"+o.image_count+\"P\",\n    content:o.excerpt,\n    desc: o.published_at,\n    pic_url: o.cover_image_src,\n    url: (\"hiker://empty/##\"+JSON.stringify(o.images)+\"##\"+o.title+\"##\"+o.published_at.split(\" \")[0]+\"发布•\"+o.favorites+\"喜欢•\"+o.comments+\"点评\"+''+\"##\"+o.url+\"##\"+o.post_id+\"##\"+tagstr+\"##\"+''+\"##\").replace(/[;\\r\\n]/g,\"\")\n  };\n\n}):[];\n\n\nsetSearchResult({ data: data });\n\n} catch (e) {\n    \n}","search_url":"https://tuchong.com/rest/tags/**/posts?page=fypage&count=60","group":"⑦美图","detail_col_type":"pic_1_full","detail_find_rule":"js:\n//setError(MY_URL);\nvar comment_url=\"https://api.tuchong.com/4/posts/fyAll/comments?sort_by=0&os_api=25&device_type=MI&device_platform=android&ssmix=a&manifest_version_code=232&dpi=450&abflag=0&uuid=329642135962135&version_code=232&page=fypage&app_name=tuchong&version_name=2.3.2&openudid=53fa4df32154dfa3&resolution=1280*1000&os_version=5.0.1&ac=wifi&aid=0\";\n\n/##(.*?)##(.*?)##(.*?)##(.*?)##(.*?)##(.*?)##(.*?)##/.test(MY_URL);\nvar imglist=JSON.parse(RegExp.$1);\nvar title=RegExp.$2;\nvar info=RegExp.$3;\nvar url=RegExp.$4;\ncomment_url=comment_url.replace(\"fyAll\",RegExp.$5);\nvar tag=RegExp.$6;\nvar site=RegExp.$7?JSON.parse(RegExp.$7):null;\nvar text=getVar(\"tuchong@text@\"+RegExp.$5);\n\n\nvar data = imglist.map(function(o) {\n  return {\n    title: o.title,\n    pic_url: \"https://photo.tuchong.com/\"+o.user_id+\"/f/\"+o.img_id+\".jpg\",\n    url: \"https://photo.tuchong.com/\"+o.user_id+\"/f/\"+o.img_id+\".jpg\"\n  };\n\n});\ndata.push(\n{\ncol_type:\"line_blank\"\n});\nsite&&data.push(\n{\ntitle:site.name,\npic_url:site.icon,\nurl:site.url,\ncol_type:\"avatar\"\n});\ndata.push(\n{\ntitle:title,\ndesc:'““””'+info,\nurl:/喜欢•(.*?)点评/.test(info)&&RegExp.$1<1?url:comment_url+\"#noRecordHistory#@rule=js:var json=JSON.parse(getResCode());var comments=json.commentlist;var data=[];comments.length&&/page=(.+?)&/.test(MY_URL)&&RegExp.$1<2&&data.push({title:json.comments+' 评论',url:json.baseUrl,desc:'点击跳转网页',col_type:'text_1'})&&data.push({col_type:'line_blank'});for(i in comments){var rstr='';var replys=comments[i].sub_notes;for(j in replys) rstr+='<b>'+replys[j].author.name+':</b>'+parseDomForHtml(replys[j].content,'Text')+'<br>';rstr=rstr?'<br><blockquote><font color=grey>'+rstr+'</font></blockquote>':'';data.push({title: comments[i].author.name,pic_url: comments[i].author.icon,url: comments[i].author.url,col_type: 'avatar'}),data.push({title:parseDomForHtml(comments[i].content,'Text')+rstr+'<br><small><font color=grey>'+comments[i].created_at+' • '+comments[i].likes+'喜欢'+'</font></small>',col_type:'rich_text'}),data.push({col_type:'line'});} setHomeResult({data:data});\",\n\n//url,\ncol_type:\"text_1\"\n});\n\ndata.push(\n{\ntitle:text+\"<br><br><small><font color=grey>标签：\"+tag+\"</font><small>\",\ncol_type:\"rich_text\"\n});\n  \nsetHomeResult({ data: data });","sdetail_col_type":"pic_1_full","sdetail_find_rule":"*","ua":"pc","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","title":"唯美女生","author":"Killer","version":4,"type":"picture","url":"https://www.vmgirls.com/wp-admin/admin-ajax.php?append=list-home&paged=fypage&action=ajax_load_posts&query=&page=home&tabcid=fyAll;post","col_type":"pic_2_card","class_name":"最新&热门&清新&摄影&糖水&清纯&青春","class_url":"-2.1&-1.0&25&17&61&18&12","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"body&&.col-6;a&&title;a&&style.js:input.split(\"'\")[1]+\"@Referer=\";.flex-fill&&Text;a&&href.js:$(input).lazyRule(()=>eval(JSON.parse(fetch(\"hiker://page/Picture?rule=\"+getVar('name'))).rule))","searchFind":"","search_url":"","group":"⑦美图","detail_col_type":"pic_1_full","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"putVar('name',MY_RULE.title)","pages":"[{\"col_type\":\"movie_3\",\"name\":\"图片\",\"path\":\"Picture\",\"rule\":\"var html = request(input,{});\\nvar picshowArr = [];\\nvar list = parseDomForArray(html,\\\".nc-light-gallery&&img\\\");\\n//log(list);\\nfor(let i =0;i<list.length;i++) picshowArr.push(parseDom(list[i],\\\"img&&src\\\"));\\n\\\"pics://\\\"+picshowArr.join(\\\"&&\\\");\"}]","proxy":"","icon":""},{"last_chapter_rule":"","title":"搜图神器","author":"旧巷陌人","version":0,"type":"video","url":"hiker://empty##fypage","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nrequire('hiker://page/Config.view')\ngetBaseParse()","searchFind":"","search_url":"","group":"⑦美图","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"搜索\",\"path\":\"Search.view\",\"rule\":\"require('hiker://page/Config.view?rule=' + MY_RULE._title)\\nconst keyword = getParam(\\\"searchTerms\\\") || \\\"\\\";\\nconst index = Number(getParam(\\\"index\\\") || \\\"0\\\");\\n\\nconst getConfig = (path) => {\\n    return JSON.parse(request(path, {\\n        headers: {\\n            'User-Agent': 'Mozilla/5.0'\\n        }\\n    }))\\n}\\n\\nconst d = []\\n\\nswitch (index) {\\n    case 0:\\n        path = 'http://api.huaban.com/search?q=' + keyword + '&per_page=36&page=' + page + '&sort=all'\\n        getConfig(path).pins.forEach(item => {\\n            file = item.file\\n            img = 'https://' + file.bucket + '.huaban.com/' + file.key\\n            d.push({\\n                title: item.raw_text,\\n                desc: '图集：' + item.board.title,\\n                content: file.width + '×' + file.height,\\n                pic_url: img,\\n                url: 'pics://' + img\\n            })\\n        })\\n        break;\\n    case 1:\\n        path = 'http://www.duitang.com/napi/blog/list/by_search/?include_fields=album&kw=' + keyword + '&start=' + (page - 1) * 24 + '&locale=zh&app_version=110&platform_name=Android&__domain=www.duitang.com'\\n        getConfig(path).data.object_list.forEach(item => {\\n            photo = item.photo\\n            d.push({\\n                title: item.msg,\\n                desc: '图集：' + item.album.name,\\n                content: photo.width + '×' + photo.height,\\n                pic_url: photo.path,\\n                url: 'pics://' + photo.path\\n            })\\n        })\\n        break;\\n    case 2:\\n        path = '/v1/wallpaper/list'\\n        sign = 'page=' + (page - 1) + '&page_size=20&platform=0&product_id=16&search_word=' + keyword + '&time=' + getTime + '&version_code=475&key=d9fd3ec394'\\n        body = 'product_id=16&version_code=475&sign=' + md5(sign).toUpperCase() + '&page=' + (page - 1) + '&time=' + getTime + '&search_word=' + keyword + '&platform=0&page_size=20'\\n        layoutParse(d, getConfigDe(path, body))\\n        break;\\n    case 3:\\n        body = {\\n            \\\"data\\\": {\\n                \\\"where\\\": {\\n                    \\\"$or\\\": [{\\n                        \\\"boardName\\\": {\\n                            \\\"$regex\\\": \\\"\\\\\\\\Q\\\" + keyword + \\\"\\\\\\\\E\\\"\\n                        }\\n                    }, {\\n                        \\\"content\\\": {\\n                            \\\"$regex\\\": \\\"\\\\\\\\Q\\\" + keyword + \\\"\\\\\\\\E\\\"\\n                        }\\n                    }],\\n                    \\\"reportCount\\\": {\\n                        \\\"$lt\\\": 2\\n                    }\\n                },\\n                \\\"limit\\\": 20,\\n                \\\"skip\\\": (page - 1) * 20,\\n                \\\"order\\\": \\\"-updatedAt\\\"\\n            },\\n            \\\"c\\\": \\\"PhoneWrapper\\\",\\n            \\\"appSign\\\": \\\"ea457acf45c5fd9fd3ec39443125f38f\\\\/1\\\",\\n            \\\"client\\\": {\\n                \\\"caller\\\": \\\"Android\\\",\\n                \\\"ex\\\": {\\n                    \\\"version\\\": \\\"10\\\",\\n                    \\\"package\\\": \\\"com.example.administrator.searchpicturetool\\\",\\n                    \\\"uuid\\\": \\\"44771065297A002927B4E0268904FE16\\\"\\n                }\\n            },\\n            \\\"v\\\": \\\"v3.8.4\\\",\\n            \\\"timestamp\\\": getTime / 1000\\n        }\\n        layoutParse(d, getConfigEn(body))\\n        break;\\n    case 4:\\n        body = {\\n            \\\"data\\\": {\\n                \\\"where\\\": {\\n                    \\\"$or\\\": [{\\n                        \\\"boardName\\\": {\\n                            \\\"$regex\\\": \\\"\\\\\\\\Q\\\" + keyword + \\\"\\\\\\\\E\\\"\\n                        }\\n                    }, {\\n                        \\\"content\\\": {\\n                            \\\"$regex\\\": \\\"\\\\\\\\Q\\\" + keyword + \\\"\\\\\\\\E\\\"\\n                        }\\n                    }],\\n                    \\\"reportCount\\\": {\\n                        \\\"$lt\\\": 2\\n                    }\\n                },\\n                \\\"limit\\\": 20,\\n                \\\"skip\\\": (page - 1) * 20,\\n                \\\"order\\\": \\\"-updatedAt\\\"\\n            },\\n            \\\"c\\\": \\\"FullScreenImage\\\",\\n            \\\"appSign\\\": \\\"ea457acf45c5fd9fd3ec39443125f38f\\\\/1\\\",\\n            \\\"client\\\": {\\n                \\\"caller\\\": \\\"Android\\\",\\n                \\\"ex\\\": {\\n                    \\\"version\\\": \\\"10\\\",\\n                    \\\"package\\\": \\\"com.example.administrator.searchpicturetool\\\",\\n                    \\\"uuid\\\": \\\"44771065297A002927B4E0268904FE16\\\"\\n                }\\n            },\\n            \\\"v\\\": \\\"v3.8.4\\\",\\n            \\\"timestamp\\\": getTime / 1000\\n        }\\n        layoutParse(d, getConfigEn(body))\\n        break;\\n    case 5:\\n        body = {\\n            \\\"data\\\": {\\n                \\\"where\\\": {\\n                    \\\"$or\\\": [{\\n                        \\\"boardName\\\": {\\n                            \\\"$regex\\\": \\\"\\\\\\\\Q\\\" + keyword + \\\"\\\\\\\\E\\\"\\n                        }\\n                    }, {\\n                        \\\"content\\\": {\\n                            \\\"$regex\\\": \\\"\\\\\\\\Q\\\" + keyword + \\\"\\\\\\\\E\\\"\\n                        }\\n                    }],\\n                    \\\"reportCount\\\": {\\n                        \\\"$lt\\\": 2\\n                    }\\n                },\\n                \\\"limit\\\": 20,\\n                \\\"skip\\\": (page - 1) * 20,\\n                \\\"order\\\": \\\"-updatedAt\\\"\\n            },\\n            \\\"c\\\": \\\"HignPhoneWrapper\\\",\\n            \\\"appSign\\\": \\\"ea457acf45c5fd9fd3ec39443125f38f\\\\/1\\\",\\n            \\\"client\\\": {\\n                \\\"caller\\\": \\\"Android\\\",\\n                \\\"ex\\\": {\\n                    \\\"version\\\": \\\"10\\\",\\n                    \\\"package\\\": \\\"com.example.administrator.searchpicturetool\\\",\\n                    \\\"uuid\\\": \\\"44771065297A002927B4E0268904FE16\\\"\\n                }\\n            },\\n            \\\"v\\\": \\\"v3.8.4\\\",\\n            \\\"timestamp\\\": getTime / 1000\\n        }\\n        layoutParse(d, getConfigEn(body))\\n        break;\\n    case 6:\\n        path = 'https://pic.sogou.com/napi/pc/searchList?query=' + keyword + '&start=' + (page - 1) * 48\\n        getConfig(path).data.items.forEach(item => {\\n            d.push({\\n                title: item.title,\\n                desc: '图集：' + item.ch_site_name,\\n                content: item.thumbWidth + '×' + item.thumbHeight,\\n                pic_url: item.picUrl,\\n                url: 'pics://' + item.picUrl\\n            })\\n        })\\n        break;\\n    case 7:\\n        path = 'https://m.weibo.cn/api/container/getIndex?page_type=searchall&page=' + page + '&containerid=' + escape('100103type=63&q=') + keyword + escape('&t=0')\\n        getConfig(path).data.cards[0].card_group.forEach(item => {\\n            left = item.left_element\\n            img = left.mblog.bmiddle_pic + '@User-Agent=Dalvik/2.1.0'\\n            d.push({\\n                title: left.desc1,\\n                pic_url: img,\\n                url: 'pics://' + img\\n            })\\n        })\\n        break;\\n    case 8:\\n        path = 'https://m.baidu.com/sf/vsearch/image/search/wisesearchresult?tn=wisejsonala&z=0&ie=utf-8&queryWord=' + keyword + '&rn=30&word=' + keyword + '&pn=' + (page - 1) * 30\\n        getConfig(path).linkData.forEach(item => {\\n            d.push({\\n                title: item.title,\\n                desc: '图集：' + item.fromUrlHost,\\n                content: item.oriWidth + '×' + item.oriHeight,\\n                pic_url: item.hoverUrl,\\n                url: 'pics://' + item.hoverUrl\\n            })\\n        })\\n        break;\\n    case 9:\\n        path = 'https://vt.sm.cn/api/pic/list?query=' + keyword + '&start=' + (page - 1) * 20 + '&limit=20&size=0&latest=0'\\n        getConfig(path).data.hit.imgInfo.item.forEach(item => {\\n            d.push({\\n                title: item.title,\\n                desc: '图集：' + item.firstCateNew,\\n                content: item.width + '×' + item.height,\\n                pic_url: item.img,\\n                url: 'pics://' + item.img\\n            })\\n        })\\n        break;\\n    case 10:\\n        body = {\\n            \\\"data\\\": {\\n                \\\"where\\\": {\\n                    \\\"$or\\\": [{\\n                        \\\"boardName\\\": {\\n                            \\\"$regex\\\": \\\"\\\\\\\\Q\\\" + keyword + \\\"\\\\\\\\E\\\"\\n                        }\\n                    }, {\\n                        \\\"content\\\": {\\n                            \\\"$regex\\\": \\\"\\\\\\\\Q\\\" + keyword + \\\"\\\\\\\\E\\\"\\n                        }\\n                    }],\\n                    \\\"reportCount\\\": {\\n                        \\\"$lt\\\": 2\\n                    }\\n                },\\n                \\\"limit\\\": 20,\\n                \\\"skip\\\": (page - 1) * 20,\\n                \\\"order\\\": \\\"-updatedAt\\\"\\n            },\\n            \\\"c\\\": \\\"SquareImage\\\",\\n            \\\"appSign\\\": \\\"ea457acf45c5fd9fd3ec39443125f38f\\\\/1\\\",\\n            \\\"client\\\": {\\n                \\\"caller\\\": \\\"Android\\\",\\n                \\\"ex\\\": {\\n                    \\\"version\\\": \\\"10\\\",\\n                    \\\"package\\\": \\\"com.example.administrator.searchpicturetool\\\",\\n                    \\\"uuid\\\": \\\"44771065297A002927B4E0268904FE16\\\"\\n                }\\n            },\\n            \\\"v\\\": \\\"v3.8.4\\\",\\n            \\\"timestamp\\\": getTime / 1000\\n        }\\n        layoutParse(d, getConfigEn(body))\\n        break;\\n    case 11:\\n        body = {\\n            \\\"data\\\": {\\n                \\\"where\\\": {\\n                    \\\"$or\\\": [{\\n                        \\\"boardName\\\": {\\n                            \\\"$regex\\\": \\\"\\\\\\\\Q\\\" + keyword + \\\"\\\\\\\\E\\\"\\n                        }\\n                    }, {\\n                        \\\"content\\\": {\\n                            \\\"$regex\\\": \\\"\\\\\\\\Q\\\" + keyword + \\\"\\\\\\\\E\\\"\\n                        }\\n                    }],\\n                    \\\"reportCount\\\": {\\n                        \\\"$lt\\\": 2\\n                    }\\n                },\\n                \\\"limit\\\": 20,\\n                \\\"skip\\\": (page - 1) * 20,\\n                \\\"order\\\": \\\"-updatedAt\\\"\\n            },\\n            \\\"c\\\": \\\"TouXiangImage\\\",\\n            \\\"appSign\\\": \\\"ea457acf45c5fd9fd3ec39443125f38f\\\\/1\\\",\\n            \\\"client\\\": {\\n                \\\"caller\\\": \\\"Android\\\",\\n                \\\"ex\\\": {\\n                    \\\"version\\\": \\\"10\\\",\\n                    \\\"package\\\": \\\"com.example.administrator.searchpicturetool\\\",\\n                    \\\"uuid\\\": \\\"44771065297A002927B4E0268904FE16\\\"\\n                }\\n            },\\n            \\\"v\\\": \\\"v3.8.4\\\",\\n            \\\"timestamp\\\": getTime / 1000\\n        }\\n        layoutParse(d, getConfigEn(body))\\n        break;\\n    case 12:\\n        body = {\\n            \\\"data\\\": {\\n                \\\"where\\\": {\\n                    \\\"$or\\\": [{\\n                        \\\"boardName\\\": {\\n                            \\\"$regex\\\": \\\"\\\\\\\\Q\\\" + keyword + \\\"\\\\\\\\E\\\"\\n                        }\\n                    }, {\\n                        \\\"content\\\": {\\n                            \\\"$regex\\\": \\\"\\\\\\\\Q\\\" + keyword + \\\"\\\\\\\\E\\\"\\n                        }\\n                    }],\\n                    \\\"reportCount\\\": {\\n                        \\\"$lt\\\": 2\\n                    }\\n                },\\n                \\\"limit\\\": 20,\\n                \\\"skip\\\": (page - 1) * 20,\\n                \\\"order\\\": \\\"-updatedAt\\\"\\n            },\\n            \\\"c\\\": \\\"BiaoQingBaoImage\\\",\\n            \\\"appSign\\\": \\\"ea457acf45c5fd9fd3ec39443125f38f\\\\/1\\\",\\n            \\\"client\\\": {\\n                \\\"caller\\\": \\\"Android\\\",\\n                \\\"ex\\\": {\\n                    \\\"version\\\": \\\"10\\\",\\n                    \\\"package\\\": \\\"com.example.administrator.searchpicturetool\\\",\\n                    \\\"uuid\\\": \\\"44771065297A002927B4E0268904FE16\\\"\\n                }\\n            },\\n            \\\"v\\\": \\\"v3.8.4\\\",\\n            \\\"timestamp\\\": getTime / 1000\\n        }\\n        layoutParse(d, getConfigEn(body))\\n        break;\\n    case 13:\\n        body = {\\n            \\\"data\\\": {\\n                \\\"where\\\": {\\n                    \\\"$or\\\": [{\\n                        \\\"boardName\\\": {\\n                            \\\"$regex\\\": \\\"\\\\\\\\Q\\\" + keyword + \\\"\\\\\\\\E\\\"\\n                        }\\n                    }, {\\n                        \\\"content\\\": {\\n                            \\\"$regex\\\": \\\"\\\\\\\\Q\\\" + keyword + \\\"\\\\\\\\E\\\"\\n                        }\\n                    }],\\n                    \\\"reportCount\\\": {\\n                        \\\"$lt\\\": 2\\n                    }\\n                },\\n                \\\"limit\\\": 20,\\n                \\\"skip\\\": (page - 1) * 20,\\n                \\\"order\\\": \\\"-updatedAt\\\"\\n            },\\n            \\\"c\\\": \\\"ComputerImage\\\",\\n            \\\"appSign\\\": \\\"ea457acf45c5fd9fd3ec39443125f38f\\\\/1\\\",\\n            \\\"client\\\": {\\n                \\\"caller\\\": \\\"Android\\\",\\n                \\\"ex\\\": {\\n                    \\\"version\\\": \\\"10\\\",\\n                    \\\"package\\\": \\\"com.example.administrator.searchpicturetool\\\",\\n                    \\\"uuid\\\": \\\"44771065297A002927B4E0268904FE16\\\"\\n                }\\n            },\\n            \\\"v\\\": \\\"v3.8.4\\\",\\n            \\\"timestamp\\\": getTime / 1000\\n        }\\n        layoutParse(d, getConfigEn(body))\\n        break;\\n    case 14:\\n        path = 'https://image.so.com/j?q=' + keyword + '&pn=60&sn=' + (page - 1) * 60 + '&zoom=4&t=0'\\n        getConfig(path).list.forEach(item => {\\n            d.push({\\n                title: item.title,\\n                content: item.width + '×' + item.height,\\n                pic_url: item.img,\\n                url: 'pics://' + item.img\\n            })\\n        })\\n        break;\\n    case 15:\\n        body = {\\n            \\\"data\\\": {\\n                \\\"where\\\": {\\n                    \\\"$or\\\": [{\\n                        \\\"boardName\\\": {\\n                            \\\"$regex\\\": \\\"\\\\\\\\Q\\\" + keyword + \\\"\\\\\\\\E\\\"\\n                        }\\n                    }, {\\n                        \\\"content\\\": {\\n                            \\\"$regex\\\": \\\"\\\\\\\\Q\\\" + keyword + \\\"\\\\\\\\E\\\"\\n                        }\\n                    }],\\n                    \\\"reportCount\\\": {\\n                        \\\"$lt\\\": 2\\n                    }\\n                },\\n                \\\"limit\\\": 20,\\n                \\\"skip\\\": (page - 1) * 20,\\n                \\\"order\\\": \\\"-updatedAt\\\"\\n            },\\n            \\\"c\\\": \\\"CoverImage\\\",\\n            \\\"appSign\\\": \\\"ea457acf45c5fd9fd3ec39443125f38f\\\\/1\\\",\\n            \\\"client\\\": {\\n                \\\"caller\\\": \\\"Android\\\",\\n                \\\"ex\\\": {\\n                    \\\"version\\\": \\\"10\\\",\\n                    \\\"package\\\": \\\"com.example.administrator.searchpicturetool\\\",\\n                    \\\"uuid\\\": \\\"44771065297A002927B4E0268904FE16\\\"\\n                }\\n            },\\n            \\\"v\\\": \\\"v3.8.4\\\",\\n            \\\"timestamp\\\": getTime / 1000\\n        }\\n        layoutParse(d, getConfigEn(body))\\n        break;\\n    case 16:\\n        path = 'https://image.so.com/j?q=' + keyword + '&pn=60&sn=' + (page - 1) * 60 + '&zoom=0&t=0'\\n        getConfig(path).list.forEach(item => {\\n            d.push({\\n                title: item.title,\\n                content: item.width + '×' + item.height,\\n                pic_url: item.img,\\n                url: 'pics://' + item.img\\n            })\\n        })\\n        break;\\n    case 17:\\n        path = 'https://cn.bing.com/api/custom/opal/image/search?q=' + keyword + '&offset=' + (page - 1) * 31 + '&count=30&setmkt=zh-cn'\\n        getConfig(path).answers[0].images.forEach(item => {\\n            d.push({\\n                title: item.name,\\n                content: item.width + '×' + item.height,\\n                pic_url: item.contentUrl,\\n                url: 'pics://' + item.contentUrl\\n            })\\n        })\\n        break;\\n    case 18:\\n        body = {\\n            \\\"data\\\": {\\n                \\\"where\\\": {\\n                    \\\"$or\\\": [{\\n                        \\\"boardName\\\": {\\n                            \\\"$regex\\\": \\\"\\\\\\\\Q\\\" + keyword + \\\"\\\\\\\\E\\\"\\n                        }\\n                    }, {\\n                        \\\"content\\\": {\\n                            \\\"$regex\\\": \\\"\\\\\\\\Q\\\" + keyword + \\\"\\\\\\\\E\\\"\\n                        }\\n                    }],\\n                    \\\"reportCount\\\": {\\n                        \\\"$lt\\\": 2\\n                    }\\n                },\\n                \\\"limit\\\": 20,\\n                \\\"skip\\\": (page - 1) * 20,\\n                \\\"order\\\": \\\"-updatedAt\\\"\\n            },\\n            \\\"c\\\": \\\"TransparentBackImage\\\",\\n            \\\"appSign\\\": \\\"ea457acf45c5fd9fd3ec39443125f38f\\\\/1\\\",\\n            \\\"client\\\": {\\n                \\\"caller\\\": \\\"Android\\\",\\n                \\\"ex\\\": {\\n                    \\\"version\\\": \\\"10\\\",\\n                    \\\"package\\\": \\\"com.example.administrator.searchpicturetool\\\",\\n                    \\\"uuid\\\": \\\"44771065297A002927B4E0268904FE16\\\"\\n                }\\n            },\\n            \\\"v\\\": \\\"v3.8.4\\\",\\n            \\\"timestamp\\\": getTime / 1000\\n        }\\n        layoutParse(d, getConfigEn(body))\\n        break;\\n    case 19:\\n        body = {\\n            \\\"data\\\": {\\n                \\\"where\\\": {\\n                    \\\"$or\\\": [{\\n                        \\\"boardName\\\": {\\n                            \\\"$regex\\\": \\\"\\\\\\\\Q\\\" + keyword + \\\"\\\\\\\\E\\\"\\n                        }\\n                    }, {\\n                        \\\"content\\\": {\\n                            \\\"$regex\\\": \\\"\\\\\\\\Q\\\" + keyword + \\\"\\\\\\\\E\\\"\\n                        }\\n                    }],\\n                    \\\"reportCount\\\": {\\n                        \\\"$lt\\\": 2\\n                    }\\n                },\\n                \\\"limit\\\": 20,\\n                \\\"skip\\\": (page - 1) * 20,\\n                \\\"order\\\": \\\"-updatedAt\\\"\\n            },\\n            \\\"c\\\": \\\"GifImage\\\",\\n            \\\"appSign\\\": \\\"ea457acf45c5fd9fd3ec39443125f38f\\\\/1\\\",\\n            \\\"client\\\": {\\n                \\\"caller\\\": \\\"Android\\\",\\n                \\\"ex\\\": {\\n                    \\\"version\\\": \\\"10\\\",\\n                    \\\"package\\\": \\\"com.example.administrator.searchpicturetool\\\",\\n                    \\\"uuid\\\": \\\"44771065297A002927B4E0268904FE16\\\"\\n                }\\n            },\\n            \\\"v\\\": \\\"v3.8.4\\\",\\n            \\\"timestamp\\\": getTime / 1000\\n        }\\n        layoutParse(d, getConfigEn(body))\\n        break;\\n    case 20:\\n        body = {\\n            \\\"data\\\": {\\n                \\\"where\\\": {\\n                    \\\"$or\\\": [{\\n                        \\\"boardName\\\": {\\n                            \\\"$regex\\\": \\\"\\\\\\\\Q\\\" + keyword + \\\"\\\\\\\\E\\\"\\n                        }\\n                    }, {\\n                        \\\"content\\\": {\\n                            \\\"$regex\\\": \\\"\\\\\\\\Q\\\" + keyword + \\\"\\\\\\\\E\\\"\\n                        }\\n                    }],\\n                    \\\"reportCount\\\": {\\n                        \\\"$lt\\\": 2\\n                    }\\n                },\\n                \\\"limit\\\": 20,\\n                \\\"skip\\\": (page - 1) * 20,\\n                \\\"order\\\": \\\"-updatedAt\\\"\\n            },\\n            \\\"c\\\": \\\"PadImage\\\",\\n            \\\"appSign\\\": \\\"ea457acf45c5fd9fd3ec39443125f38f\\\\/1\\\",\\n            \\\"client\\\": {\\n                \\\"caller\\\": \\\"Android\\\",\\n                \\\"ex\\\": {\\n                    \\\"version\\\": \\\"10\\\",\\n                    \\\"package\\\": \\\"com.example.administrator.searchpicturetool\\\",\\n                    \\\"uuid\\\": \\\"44771065297A002927B4E0268904FE16\\\"\\n                }\\n            },\\n            \\\"v\\\": \\\"v3.8.4\\\",\\n            \\\"timestamp\\\": getTime / 1000\\n        }\\n        layoutParse(d, getConfigEn(body))\\n        break;\\n    case 21:\\n        path = 'https://unsplash.com/napi/search?query=' + keyword + '&page=' + page + '&per_page=20'\\n        getConfig(path).photos.results.forEach(item => {\\n            d.push({\\n                title: item.description,\\n                content: item.width + '×' + item.height,\\n                pic_url: item.urls.small,\\n                url: 'pics://' + item.urls.full\\n            })\\n        })\\n        break;\\n}\\n\\nsetResult(d)\"},{\"col_type\":\"movie_3\",\"name\":\"页面\",\"path\":\"Config.view\",\"rule\":\"const empty = 'hiker://empty'\\nconst page = MY_PAGE;\\n\\nconst Color = (test) => {\\n    return '<font color=\\\"#FA7298\\\">' + test + '</front>';\\n}\\n\\nconst Strong = (test) => {\\n    return '<strong>' + test + '</strong>';\\n}\\n\\nconst Small = (test) => {\\n    return '<small>' + test + '</small>';\\n}\\n\\nconst Gray = (test) => {\\n    return \\\"<font color='gray'>\\\" + test + \\\"</font>\\\";\\n}\\n\\nconst Rich = (test) => {\\n    return \\\"‘‘’’\\\" + test;\\n}\\n\\nconst getTime = new Date().getTime()\\n\\nif (getMyVar('secretKey', '') == '') {\\n    eval(getCryptoJS());\\n    const decrypt = (str, token_iv) => {\\n        let token_key = CryptoJS.enc.Utf8.parse(token_iv);\\n        let decrypt = CryptoJS.AES.decrypt(str, token_key, {\\n            iv: token_key,\\n            mode: CryptoJS.mode.CBC,\\n            padding: CryptoJS.pad.Pkcs7\\n        });\\n        return decrypt.toString(CryptoJS.enc.Utf8);\\n    }\\n    const data = JSON.parse(request('https://app.soutushenqi.com/8/secret', {\\n        headers: {\\n            'User-Agent': 'com.example.administrator.searchpicturetool/4751665993768584Androidv3.8.4',\\n            'Content-Type': 'application/json; charset=UTF-8'\\n        },\\n        body: \\\"UBvexGqjdGA+GN1KzwX9jjYYcct9wSBM2L1sm4z3Mdb5OFKCehilG+TA48Y7QNHYsklACsi6rLAI8juXP35s2ioYCvM0s10ba8gW5NkEy7F7kjncMsDAxahnhHCmndky1/+YLiUFuBLTJEqTrKsZPNxuRvIyKr4gfoc9X9qBhd8nt8oqWHWxFrpsAj4DddtdDrUlqCtzXWTmzSugk45HZL0L70oHR+qa0RTQ2hugXtcgvvUZpDwbJY1NZl+a0R8g4cyfaKHvN2sFiGDma2XxIR6GMg+chYLYI6tpa7q4EYKuC0FwoQYwrwzhx1kciSSE52uRsWKfTvOoHVuDSv2rqwatBoEbTj0gvh417VN7sxmKMtnEsG3sETTjrFfCeTNC\\\",\\n        method: 'POST',\\n        withHeaders: true\\n    }));\\n    let vtag = data.headers['response-id'][0].substr(8);\\n    let date = decrypt(data.body, vtag);\\n    let secretKey = JSON.parse(date).data.secretKey\\n    putMyVar('secretKey', secretKey);\\n}\\n\\nconst Decode = (str) => {\\n    eval(getCryptoJS());\\n    let token_key = CryptoJS.enc.Utf8.parse(getMyVar('secretKey'));\\n    let decrypt = CryptoJS.AES.decrypt(str, token_key, {\\n        iv: token_key,\\n        mode: CryptoJS.mode.CBC,\\n        padding: CryptoJS.pad.Pkcs7\\n    });\\n    return decrypt.toString(CryptoJS.enc.Utf8);\\n}\\n\\nconst Encode = (str) => {\\n    eval(getCryptoJS())\\n    let token_key = CryptoJS.enc.Utf8.parse(getMyVar('secretKey'));\\n    let encrypt = CryptoJS.AES.encrypt(str, token_key, {\\n        iv: token_key,\\n        mode: CryptoJS.mode.CBC,\\n        padding: CryptoJS.pad.Pkcs7\\n    })\\n    return encrypt.toString()\\n};\\n\\nconst getConfigDe = (path, body) => {\\n    const host = 'http://wallpaper.soutushenqi.com' + path\\n    const data = JSON.parse(request(host, {\\n        headers: {\\n            'User-Agent': 'okhttp/3.12.3'\\n        },\\n        body: body,\\n        method: 'POST'\\n    })).data\\n    try {\\n        return JSON.parse(data)\\n    } catch (e) {\\n        return data\\n    }\\n}\\n\\nconst getConfigEn = (body) => {\\n    const host = 'https://app.soutushenqi.com/8/find?id=40cb9a'\\n    const data = Decode(request(host, {\\n        headers: {\\n            'User-Agent': 'com.example.administrator.searchpicturetool/4751666005557409Androidv3.8.4',\\n            'Content-Type': 'application/json; charset=UTF-8',\\n            'Accept-Id': 'pSTr+ICPBGWbNq3kQdLc6TCthW3vN1oT9beXSPL4eMpjKVxl8kGogyb0tls1mZpd'\\n        },\\n        body: Encode(JSON.stringify(body)),\\n        method: 'POST'\\n    }))\\n    return JSON.parse(data).data.results\\n}\\n\\nconst getBaseParse = () => {\\n    try {\\n        const tabs = ['手机壁纸', '动态壁纸', '电脑壁纸'];\\n        const d = []\\n        if (page == 1) {\\n            tabs.forEach(item => {\\n                d.push({\\n                    title: item == getMyVar('分组', tabs[0]) ? Rich(Strong(Color(item))) : item,\\n                    url: $('#noLoading#').lazyRule((item, empty) => {\\n                        putMyVar('分组', item);\\n                        refreshPage();\\n                        return empty;\\n                    }, item, empty),\\n                    col_type: 'scroll_button'\\n                })\\n            })\\n            d.push({\\n                col_type: 'blank_block'\\n            })\\n        }\\n        switch (getMyVar('分组', tabs[0])) {\\n            case tabs[0]:\\n                getClassroomParse(d, tabs)\\n                break;\\n            case tabs[1]:\\n                key = 'yqbz_android_video_category_list_v2'\\n                getClassingParse(d, tabs, key)\\n                break;\\n            case tabs[2]:\\n                key = 'yqbz_android_computer_wallpaper_tabs'\\n                getClassingParse(d, tabs, key)\\n                break;\\n        }\\n        setResult(d)\\n    } catch (e) {\\n        setResult([{\\n            title: Rich(Gray(Small('~~~当前网络异常，请刷新重试~~~'))),\\n            url: empty,\\n            col_type: 'text_center_1',\\n            extra: {\\n                lineVisible: false\\n            }\\n        }])\\n    }\\n}\\n\\nconst getClassroomParse = (d, tabs) => {\\n    body = {\\n        \\\"c\\\": \\\"CoolWraperTab\\\",\\n        \\\"data\\\": {\\n            \\\"limit\\\": 500,\\n            \\\"order\\\": \\\"order\\\"\\n        },\\n        \\\"appSign\\\": \\\"ea457acf45c5fd9fd3ec39443125f38f\\\\/1\\\",\\n        \\\"client\\\": {\\n            \\\"caller\\\": \\\"Android\\\",\\n            \\\"ex\\\": {\\n                \\\"version\\\": \\\"10\\\",\\n                \\\"package\\\": \\\"com.example.administrator.searchpicturetool\\\",\\n                \\\"uuid\\\": \\\"44771065297A002927B4E0268904FE16\\\"\\n            }\\n        },\\n        \\\"v\\\": \\\"v3.8.4\\\",\\n        \\\"timestamp\\\": getTime / 1000\\n    }\\n    iTag = getMyVar(getMyVar('分组', tabs[0]) + \\\":iTag\\\", \\\"\\\");\\n    if (iTag) {\\n        iTag = JSON.parse(iTag);\\n    } else {\\n        try {\\n            iTag = getConfigEn(body);\\n            iTag = iTag.filter(item => {\\n                if (item.tag) {\\n                    return item\\n                }\\n            })\\n            putMyVar(getMyVar('分组', tabs[0]) + \\\":iTag\\\", JSON.stringify(iTag));\\n        } catch (e) {\\n            iTag = [];\\n        }\\n    }\\n    if (page == 1) {\\n        iTag.forEach(item => {\\n            tag = item.tag\\n            name = item.tabName\\n            d.push({\\n                title: tag == getMyVar(getMyVar('分组', tabs[0]) + '分类', iTag[0].tag) ? Rich(Strong(Color(name))) : name,\\n                url: $('#noLoading#').lazyRule((tag, empty, tabs) => {\\n                    putMyVar(getMyVar('分组', tabs[0]) + '分类', tag);\\n                    refreshPage();\\n                    return empty;\\n                }, tag, empty, tabs),\\n                col_type: 'scroll_button'\\n            })\\n        })\\n        d.push({\\n            col_type: 'blank_block'\\n        })\\n    }\\n    orders = ['最新', '最热'];\\n    if (page == 1) {\\n        orders.forEach(item => {\\n            d.push({\\n                title: item == getMyVar(getMyVar('分组', tabs[0]) + '排序', orders[0]) ? Rich(Strong(Color(item))) : item,\\n                url: $('#noLoading#').lazyRule((item, empty, tabs) => {\\n                    putMyVar(getMyVar('分组', tabs[0]) + '排序', item);\\n                    refreshPage();\\n                    return empty;\\n                }, item, empty, tabs),\\n                col_type: 'scroll_button'\\n            })\\n        })\\n    }\\n    switch (getMyVar(getMyVar('分组', tabs[0]) + '排序', orders[0])) {\\n        case orders[0]:\\n            order = '-createdAt'\\n            break;\\n        case orders[1]:\\n            order = '-updatedAt'\\n            break;\\n    }\\n    tags = getMyVar(getMyVar('分组', tabs[0]) + '分类', iTag[0].tag)\\n    body = {\\n        \\\"c\\\": \\\"NewWallpaper\\\",\\n        \\\"data\\\": {\\n            \\\"where\\\": {\\n                \\\"tag\\\": tags == 'all' ? {\\n                    \\\"$exists\\\": false\\n                } : tags\\n            },\\n            \\\"limit\\\": 20,\\n            \\\"skip\\\": (page - 1) * 20,\\n            \\\"order\\\": order\\n        },\\n        \\\"appSign\\\": \\\"ea457acf45c5fd9fd3ec39443125f38f\\\\/1\\\",\\n        \\\"client\\\": {\\n            \\\"caller\\\": \\\"Android\\\",\\n            \\\"ex\\\": {\\n                \\\"version\\\": \\\"10\\\",\\n                \\\"package\\\": \\\"com.example.administrator.searchpicturetool\\\",\\n                \\\"uuid\\\": \\\"44771065297A002927B4E0268904FE16\\\"\\n            }\\n        },\\n        \\\"v\\\": \\\"v3.8.4\\\",\\n        \\\"timestamp\\\": getTime / 1000\\n    }\\n    getSearchParse(d)\\n    const data = getConfigEn(body)\\n    layoutParse(d, data)\\n}\\n\\nconst getClassingParse = (d, tabs, key) => {\\n    iTag = getMyVar(getMyVar('分组', tabs[0]) + \\\":iTag\\\", \\\"\\\");\\n    if (iTag) {\\n        iTag = JSON.parse(iTag);\\n    } else {\\n        try {\\n            sign = 'config_key=' + key + '&platform=0&product_id=16&time=' + getTime + '&version_code=475&key=d9fd3ec394'\\n            path = '/v1/config/queryConfig'\\n            body = 'config_key=' + key + '&product_id=16&version_code=475&sign=' + md5(sign).toUpperCase() + '&time=' + getTime + '&platform=0'\\n            iTag = getConfigDe(path, body);\\n            putMyVar(getMyVar('分组', tabs[0]) + \\\":iTag\\\", JSON.stringify(iTag));\\n        } catch (e) {\\n            iTag = [];\\n        }\\n    }\\n    if (page == 1) {\\n        iTag.forEach(item => {\\n            tags = item.request_params.size_type || item.category_name\\n            name = item.name || item.category_name\\n            d.push({\\n                title: tags == getMyVar(getMyVar('分组', tabs[0]) + '分类', '' + (iTag[0].request_params.size_type || iTag[0].category_name) + '') ? Rich(Strong(Color(name))) : name,\\n                url: $('#noLoading#').lazyRule((tags, empty, tabs) => {\\n                    putMyVar(getMyVar('分组', tabs[0]) + '分类', tags);\\n                    refreshPage();\\n                    return empty;\\n                }, tags, empty, tabs),\\n                col_type: 'scroll_button'\\n            })\\n        })\\n        d.push({\\n            col_type: 'blank_block'\\n        })\\n    }\\n    orders = ['最新', '热门', '最热', '发现'];\\n    if (page == 1) {\\n        orders.forEach(item => {\\n            d.push({\\n                title: item == getMyVar(getMyVar('分组', tabs[0]) + '排序', orders[1]) ? Rich(Strong(Color(item))) : item,\\n                url: $('#noLoading#').lazyRule((item, empty, tabs) => {\\n                    putMyVar(getMyVar('分组', tabs[0]) + '排序', item);\\n                    refreshPage();\\n                    return empty;\\n                }, item, empty, tabs),\\n                col_type: 'scroll_button'\\n            })\\n        })\\n    }\\n    switch (getMyVar(getMyVar('分组', tabs[0]) + '排序', orders[1])) {\\n        case orders[0]:\\n            order = 1\\n            break;\\n        case orders[1]:\\n            order = 0\\n            break;\\n        case orders[2]:\\n            order = 2\\n            break;\\n        case orders[3]:\\n            order = 3\\n            break;\\n    }\\n    tags = getMyVar(getMyVar('分组', tabs[0]) + '分类', '' + (iTag[0].request_params.size_type || iTag[0].category_name) + '')\\n    if (getMyVar('分组', tabs[0]) == tabs[1]) {\\n        switch (tags) {\\n            case '全部':\\n                sign = 'page=' + (page - 1) + '&platform=0&product_id=16&sort_type=' + order + '&time=' + getTime + '&type=0&version_code=475&key=d9fd3ec394'\\n                body = 'page=' + (page - 1) + '&type=0&sort_type=' + order + '&product_id=16&version_code=475&time=' + getTime + '&platform=0&sign=' + md5(sign).toUpperCase()\\n                break;\\n            case '高清':\\n                sign = 'is_vip=1&page=' + (page - 1) + '&platform=0&product_id=16&sort_type=' + order + '&time=' + getTime + '&type=0&version_code=475&key=d9fd3ec394'\\n                body = 'is_vip=1&page=' + (page - 1) + '&type=0&sort_type=' + order + '&product_id=16&version_code=475&time=' + getTime + '&platform=0&sign=' + md5(sign).toUpperCase()\\n                break;\\n            default:\\n                sign = 'page=' + (page - 1) + '&platform=0&product_id=16&sort_type=' + order + '&tag=' + tags + '&time=' + getTime + '&type=0&version_code=475&key=d9fd3ec394'\\n                body = 'tag=' + tags + '&page=' + (page - 1) + '&type=0&sort_type=' + order + '&product_id=16&version_code=475&time=' + getTime + '&platform=0&sign=' + md5(sign).toUpperCase()\\n                break;\\n        }\\n        path = '/api/v2/liveWp/list'\\n    } else {\\n        sign = 'page=' + (page - 1) + '&page_size=20&platform=0&product_id=16&size_type=' + tags + '&sort_type=' + order + '&time=' + getTime + '&version_code=475&key=d9fd3ec394'\\n        body = 'sort_type=' + order + '&size_type=' + tags + '&product_id=16&version_code=475&sign=' + md5(sign).toUpperCase() + '&page=' + (page - 1) + '&time=' + getTime + '&platform=0&page_size=20'\\n        path = '/v1/search/pcScreen'\\n    }\\n    getSearchParse(d)\\n    const data = getConfigDe(path, body)\\n    layoutParse(d, data)\\n}\\n\\nconst layoutParse = (d, data) => {\\n    if (data.length) {\\n        data.forEach(item => {\\n            picUrl = item.largeUrl || item.coverUrl || item.largeImageUrl\\n            itemUrl = 'pics://' + picUrl\\n            if (item.videoUrl) {\\n                itemUrl = item.videoUrl\\n            }\\n            type = 'pic_2_card'\\n            if (getMyVar('分组') == '电脑壁纸') {\\n                type = 'pic_1_card'\\n            }\\n            d.push({\\n                title: item.content || item.title || item.detailInfo,\\n                desc: item.width + '×' + item.height,\\n                pic_url: picUrl,\\n                url: itemUrl,\\n                col_type: type\\n            })\\n        })\\n    }\\n}\\n\\nconst getSearchParse = (d) => {\\n    if (page == 1) {\\n        d.push({\\n            url: '\\\"hiker://search?s=\\\"+input',\\n            desc: \\\"搜你想要的......\\\",\\n            title: \\\"🔍\\\",\\n            col_type: \\\"input\\\",\\n            extra: {\\n                rules: $.toString(() => {\\n                    let data = [];\\n                    let searchMap = ['花瓣', '堆糖', '热门推荐', '手机壁纸', '全面屏', '2K壁纸', '搜狗', '微博', '百度', '夸克', '朋友圈背景', '头像', '表情包', '4K壁纸', '配图', '配图精选', '360', '必应', '免抠图', 'GIF精选', '平板壁纸', '免版权'];\\n                    searchMap.forEach((Map, i) => {\\n                        data.push({\\n                            \\\"title\\\": Map,\\n                            \\\"search_url\\\": \\\"hiker://empty?searchTerms=**&page=fypage&index=\\\" + i,\\n                            \\\"searchFind\\\": \\\"js: $.require('hiker://page/Search.view?rule='+MY_RULE._title);\\\"\\n                        });\\n                    })\\n                    return JSON.stringify(data);\\n                }),\\n                defaultValue: getMyVar(\\\"searchKey\\\", \\\"\\\"),\\n                onChange: \\\"putMyVar('searchKey',input)\\\"\\n            }\\n        });\\n    }\\n}\"}]","proxy":"","icon":""}, 
{"last_chapter_rule":"","title":"斋书苑","author":"ᝰꫛꫀꪝ藍凋","version":6,"type":"read","url":"https://m.zhaishuyuan.org/category/fyAll_fypage.html","col_type":"movie_3","class_name":"玄幻小说&仙侠小说&都市小说&网游竞技","class_url":"xuanhuan&wuxia&dushi&wangyou","area_name":"穿越小说&科幻小说&悬疑推理&其他小说","area_url":"chuanyue&kehuan&xuanyi&qita","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"body&&.bookbox;h4&&Text;img&&src;.update&&Text;a&&href","searchFind":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), '.book_slist&&.bookbox');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'h4&&Text'),\r\n       desc: parseDomForHtml(list[j], '.author&&Text'),\r\n       pic_url: parseDom(list[j], 'img&&src'),\r\n       url: parseDom(list[j],'a&&href')\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","search_url":"https://m.zhaishuyuan.org/search?searchkey=**&submit=","titleColor":"#ff148e8e","group":"阅读","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\nvar conts = parseDomForArray(html, 'body&&#chapterList');//章节列表\n\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\nd.push({\n    title: parseDomForHtml(html, '.info&&Text'),//介绍\n    desc: parseDomForHtml(html, '.book-intro&&p&&Text'),//简介\n    pic_url: parseDom(html, '.bookimg&&img&&src'),//图片\n    url: MY_URL,\n    col_type: 'movie_1_vertical_pic'\n});\n\n\nfunction setLists(lists, index) {\n    d.push({\n    title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">目录逆序</span></b>' : '““””<b><span style=\"color: #1aad19\">目录正序</span></b>',\n    url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n    col_type: 'text_center_1'\n})\n    var list = lists[index];\n\n    var txt = $('').rule(() => {\n        var pg = parseDomForHtml(getResCode(), '.chapter-name&&Text');\n        if (pg[2] > pg[1]) {\n            setResult([{\n                col_type: 'line'\n            }, {\n                title:  parseDomForHtml(getResCode(), '.chapter-name&&Text'),\n                col_type: 'text_center_1'\n            }, {\n                title: parseDomForHtml(getResCode(), '#CongWenCha&&Html'),\n                col_type: 'rich_text',\n                extra: {\n                    textSize: 18,\n                    click: true\n                }\n            }, {\n                col_type: 'line'\n            }, {\n                title: '““点击下一页””',\n                url: $(MY_URL.replace('.html#autoPage#', '_2.html')).rule(() => {\n                    setResult([{\n                        col_type: 'line'\n                    }, {\n                        title:\"““””<big>\" + parseDomForHtml(getResCode(), 'body&&.chapter-name&&Text')+ \"</big>\",\n                        col_type: 'text_center_1'\n                    }, {\n                        title: parseDomForHtml(getResCode(), '#CongWenCha&&Html'),\n                        col_type: 'rich_text',\n                        extra: {\n                            textSize: 18,\n                            click: true\n                        }\n                    }])\n\n                }),\n                col_type: 'text_center_1'\n            }])\n        } else {\n            setResult([{\n                col_type: 'line'\n            }, {\n                title:\"““””<big>\" +  parseDomForHtml(getResCode(), 'body&&.chapter-name&&Text')+ \"</big>\",\n                col_type: 'text_center_1'\n            }, {\n                title: parseDomForHtml(getResCode(), '#CongWenCha&&Html'),\n                col_type: 'rich_text',\n                extra: {\n                    textSize: 18,\n                    click: true\n                }\n            }])\n        }\n    });\n\n    if (getVar('shsort') == '1') {\n        for (var j = list.length - 1; j >= 0; j--) {\n            d.push({\n                title: parseDomForHtml(list[j], 'Text'),\n                url: parseDom(list[j], 'a&&href') + '#autoPage#' + txt,\n                col_type: 'text_1'\n            });\n        }\n    } else {\n        for (var j = 0; j < list.length; j++) {\n            d.push({\n                title: parseDomForHtml(list[j], 'a&&Text'),\n                url: parseDom(list[j], 'a&&href') + '#autoPage#' + txt,\n                col_type: 'text_1'\n            });\n        }\n    }\n}\nsetLists(lists, getVar(MY_URL, '0'));\n\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);\n\nsetLastChapterRule('js:' + $.toString(() => {\n    var list = pdfa(request(MY_URL), '#chapterList&&a');\n    var len = list.length - 1;\n    var 最新章节 = pdfh(list[len], 'Text');\n    // log(最新章节);\n    setResult('更新至：' + 最新章节)\n}));","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://s4.ax1x.com/2021/12/24/TYx2WT.png"},{"last_chapter_rule":"","title":"悦读","author":"Joe&&小棉袄🌞","version":53,"type":"read","url":"hiker://empty","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:$.require(\"hiker://page/home\")","searchFind":"js:\nvar d = [];\nlet kw = getParam(\"kw\")\nsetResult([{\n    title: \"点击开始聚搜\" + kw,\n    url: \"hiker://page/ju?p=fypage&kw=\" + kw\n}])\nsetResult(d);","search_url":"hiker://empty?kw=**","group":"阅读","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"text_1\",\"name\":\"源目录\",\"path\":\"source\",\"rule\":\"js:\\nvar d = [];\\nvar m = MY_PARAMS.rules\\nvar baseurl = m.bookSourceUrl\\nif (m.ruleExplore.bookList) {\\n    var rule = m.ruleExplore\\n} else {\\n    var rule = m.ruleSearch\\n}\\nd.push({\\n    title: \\\"搜索\\\",\\n    desc: \\\"请输入搜索关键词\\\",\\n    url: $.toString(() => {\\n        putMyVar(\\\"kw\\\", input);\\n        return \\\"hiker://page/search?p=fypage&kw=\\\" + input\\n    }),\\n    col_type: \\\"input\\\",\\n    extra: {\\n        \\\"u\\\": baseurl + m.searchUrl,\\n        \\\"rules\\\": m,\\n        defaultValue: getMyVar(\\\"kw\\\", \\\"\\\"),\\n        bookSourceName: m.bookSourceName\\n    }\\n});\\ntry {\\n    if (m.enabledExplore && m.exploreUrl) {\\n        JSON.parse(m.exploreUrl).forEach(item => {\\n            d.push({\\n                title: item.title,\\n                col_type: item.style.layout_flexBasisPercent == 1 ? \\\"text_center_1\\\" : \\\"text_3\\\",\\n                url: item.url == \\\"\\\" ? \\\"hiker://empty\\\" : \\\"hiker://page/books?p=fypage\\\",\\n                extra: {\\n                    \\\"all\\\": m,\\n                    \\\"rules\\\": rule,\\n                    \\\"u\\\": baseurl + item.url\\n                }\\n            })\\n        })\\n    }\\n} catch (e) {\\n    log(m.exploreUrl);\\n}\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"主页\",\"path\":\"home\",\"rule\":\"var d = [];\\nlet {\\n    load,\\n    loadRules,\\n    getSelect\\n} = $.require(\\\"hiker://page/datat\\\");\\nlet data = load();\\nif (data.length > 0) {\\n    d.push({\\n        title: \\\"⚙️设置\\\",\\n        url: \\\"hiker://page/config\\\",\\n        col_type: \\\"scroll_button\\\"\\n    });\\n    let select = getSelect(data);\\n    data.forEach(item => {\\n        d.push({\\n            title: select.url == item.url ? \\\"““\\\" + item.name + \\\"””\\\" : item.name,\\n            url: $().lazyRule((url) => {\\n                setItem(\\\"tab\\\", url)\\n                refreshPage()\\n                return \\\"toast://切换成功\\\"\\n            }, item.url),\\n            col_type: \\\"scroll_button\\\"\\n        })\\n    })\\n    d.push({\\n        title: \\\"搜索\\\",\\n        url: $.toString(() => {\\n            putMyVar(\\\"kw\\\", input);\\n            return \\\"hiker://page/ju?p=fypage&kw=\\\" + input\\n        }),\\n        col_type: \\\"input\\\",\\n        desc: \\\"聚合搜索，请输入关键词\\\",\\n        pic_url: \\\"\\\",\\n        extra: {\\n            defaultValue: getMyVar(\\\"kw\\\", \\\"\\\"),\\n        }\\n    });\\n    let list = loadRules(select.name);\\n    list.forEach(item => {\\n        d.push({\\n            title: item.bookSourceName + `(${item.bookSourceGroup})`,\\n            col_type: \\\"text_2\\\",\\n            url: \\\"hiker://page/source?p=fypage\\\",\\n            extra: {\\n                \\\"rules\\\": item\\n            }\\n        })\\n    })\\n} else {\\n    setResult([{\\n        title: \\\"你还没有书哦～～点我进入设置\\\",\\n        url: \\\"hiker://page/config\\\",\\n        col_type: \\\"text_center_1\\\"\\n    }])\\n}\\nsetResult(d);\"},{\"col_type\":\"movie_1_vertical_pic\",\"name\":\"列表\",\"path\":\"books\",\"rule\":\"js:\\nvar d = [];\\nvar {\\n    convert,\\n    parseUrl,\\n    getCharset\\n} = $.require(\\\"hiker://page/converter\\\");\\ntry {\\n    //log(MY_PARAMS);\\n    var m = MY_PARAMS.rules\\n    // 阅读=>视界\\n    var url = parseUrl(MY_PARAMS.u, MY_PAGE);\\n    var listrule = \\\"body&&\\\" + convert(m.bookList.split(\\\"||\\\")[0]);\\n    let author = null;\\n    try {\\n        author = convert(m.author);\\n    } catch (e) {}\\n    let cover = null;\\n    try {\\n        cover = convert(m.coverUrl);\\n    } catch (e) {}\\n    let name = null;\\n    try {\\n        name = convert(m.name);\\n    } catch (e) {}\\n    let bookurl = null;\\n    try {\\n        bookurl = convert(m.bookUrl);\\n    } catch (e) {}\\n    let intro = null;\\n    try {\\n        intro = convert(m.intro);\\n    } catch (e) {}\\n    let pdfh1 = (a, b) => {\\n        try {\\n            if (b == null) return \\\"\\\";\\n            return pdfh(a, b);\\n        } catch (e) {\\n            return \\\"\\\";\\n        }\\n    }\\n    let pd1 = (a, b, c) => {\\n        try {\\n            if (b == null) return \\\"\\\";\\n            return pd(a, b, c);\\n        } catch (e) {\\n            return \\\"\\\";\\n        }\\n    }\\n    MY_URL = url;\\n    if (MY_PARAMS.all && MY_PARAMS.all.searchUrl) {\\n        m.charset = getCharset(MY_PARAMS.all.searchUrl);\\n    }\\n    let headers = m.charset ? {\\n        \\\"Content-Type\\\": \\\"text/html; charset=\\\" + m.charset\\n    } : {};\\n    var res = request(url, {\\n        headers: headers\\n    })\\n    let list = pdfa(res, listrule)\\n    if (list.length > 0) {\\n        list.forEach(item => {\\n            let next = MY_PARAMS.all.ruleToc.nextTocUrl;\\n            let nexttoc = next && next != \\\"\\\";\\n            let ac = nexttoc ? \\\"\\\": \\\"#autoCache#\\\";\\n            //let ac = \\\"#autoCache#\\\";\\n            let u1 = pd1(item, bookurl) + ac + \\\"#immersiveTheme#\\\";\\n            if (m.charset) {\\n                u1 = u1 + \\\";get;\\\" + m.charset\\n            }\\n            d.push({\\n                col_type: (cover ? \\\"movie_1_vertical_pic\\\" : \\\"text_1\\\"),\\n                title: pdfh1(item, name),\\n                img: (cover ? pd1(item, cover) + \\\"@Referer=\\\" : \\\"hiker://empty\\\"),\\n                url: \\\"hiker://page/menu\\\",\\n                desc: (author ? pdfh1(item, author) : \\\"\\\") + \\\"\\\\n\\\" + (intro ? pdfh1(item, intro) : \\\"\\\"),\\n                extra: {\\n                    \\\"bookName\\\": pdfh1(item, name),\\n                    \\\"cover\\\": (cover ? pd1(item, cover) + \\\"@Referer=\\\" : \\\"hiker://empty\\\"),\\n                    \\\"Toc\\\": MY_PARAMS.all.ruleToc,\\n                    \\\"content\\\": MY_PARAMS.all.ruleContent,\\n                    url: nexttoc ? \\\"hiker://empty#\\\" + u1 : u1,\\n                    u1: nexttoc ? u1 : null,\\n                    charset: m.charset,\\n                    inheritTitle: false\\n                }\\n            })\\n        })\\n    } else {\\n        d.push({\\n            title: \\\"列表加载失败：\\\" + listrule,\\n            col_type: \\\"text_center_1\\\",\\n            url: \\\"hiker://empty\\\"\\n        })\\n    }\\n} catch (e) {\\n    d.push({\\n        title: \\\"加载失败：\\\" + e.message,\\n        col_type: \\\"text_center_1\\\",\\n        url: \\\"hiker://empty\\\"\\n    })\\n}\\nsetResult(d);\"},{\"col_type\":\"text_center_1\",\"name\":\"设置\",\"path\":\"config\",\"rule\":\"js:\\nvar d = [];\\ntry {\\n    d.push({\\n        title: \\\"添加订阅\\\",\\n        url: $(\\\"\\\", \\\"请输入订阅名称，取个名吧（注意不要填地址）\\\").input(() => {\\n            if (input == null || input == \\\"\\\") {\\n                return \\\"toast://不填怎么能行呢\\\"\\n            }\\n            if (input.includes(\\\"://\\\")) {\\n                return \\\"toast://不能填地址哦，傻宝贝\\\"\\n            }\\n            return $(\\\"\\\", \\\"请输入订阅地址\\\").input((name) => {\\n                let {\\n                    add,\\n                    update\\n                } = $.require(\\\"hiker://page/datat\\\");\\n                add(name, input);\\n                try {\\n                    update(name, input);\\n                    refreshPage();\\n                    return \\\"toast://导入成功\\\"\\n                } catch (e) {\\n                    return \\\"toast://导入失败\\\"\\n                }\\n            }, input)\\n        }),\\n        col_type: \\\"text_2\\\"\\n    })\\n    d.push({\\n        title: \\\"添加本地\\\",\\n        url: $(\\\"\\\", \\\"请输入订阅名称，取个名吧（输完点击确定后会跳转选择书源文件界面）\\\").input(() => {\\n            if (input == null || input == \\\"\\\") {\\n                return \\\"toast://不填怎么能行呢\\\"\\n            }\\n            if (input.includes(\\\"://\\\")) {\\n                return \\\"toast://不能填地址哦，傻宝贝\\\"\\n            }\\n            return \\\"fileSelect://\\\" + $.toString((name) => {\\n                let s = input.split(\\\"/\\\")\\n                let fname = s[s.length - 1].replace(\\\"_fileSelect_\\\", \\\"\\\");\\n                if (!fname.includes(\\\".json\\\") && !fname.includes(\\\".txt\\\")) {\\n                    return \\\"toast://格式不对，仅支持json或txt格式的书源文件\\\"\\n                }\\n                let url = \\\"hiker://files/yuedu/\\\" + fname;\\n                let c = fetch(\\\"file://\\\" + input);\\n                if (!c.includes(\\\"bookSource\\\")) {\\n                    return \\\"toast://格式不对，仅支持书源文件\\\"\\n                }\\n                writeFile(url, c);\\n                let {\\n                    add,\\n                    update\\n                } = $.require(\\\"hiker://page/datat\\\");\\n                add(name, url);\\n                try {\\n                    update(name, url);\\n                    refreshPage();\\n                    return \\\"toast://导入成功\\\"\\n                } catch (e) {\\n                    return \\\"toast://导入失败\\\"\\n                }\\n            }, input);\\n        }),\\n        col_type: \\\"text_2\\\"\\n    })\\n    let list = $.require(\\\"hiker://page/datat\\\").load();\\n    list.forEach((item, i) => {\\n        d.push({\\n            title: item.name,\\n            desc: item.url,\\n            url: $([\\\"删除订阅\\\", \\\"编辑名称\\\", \\\"分享订阅\\\", \\\"更新数据\\\"]).select((name, url) => {\\n                if (input == \\\"删除订阅\\\") {\\n                    return $(\\\"确认删除？\\\").confirm((name, url) => {\\n                        if (url.startsWith(\\\"hiker://files/\\\")) {\\n                            deleteFile(url);\\n                        }\\n                        deleteFile(\\\"hiker://files/yuedu/\\\" + md5(name) + \\\".json\\\")\\n                        $.require(\\\"hiker://page/datat\\\").remove(url);\\n                        refreshPage();\\n                        return \\\"toast://已删除\\\"\\n                    }, name, url)\\n                } else if (input == \\\"编辑名称\\\") {\\n                    return $(\\\"\\\").input((name, url) => {\\n                        deleteFile(\\\"hiker://files/yuedu/\\\" + md5(name) + \\\".json\\\")\\n                        let {\\n                            rename,\\n                            update\\n                        } = $.require(\\\"hiker://page/datat\\\");\\n                        update(input, url);\\n                        rename(url, input);\\n                        refreshPage();\\n                        return \\\"hiker://empty\\\"\\n                    }, name, url)\\n                } else if (input == \\\"分享订阅\\\") {\\n                    if (url.startsWith(\\\"hiker://files/\\\")) {\\n                        return \\\"toast://当前订阅为本地文件，无法分享\\\";\\n                    }\\n                    return $(\\\"#noLoading#\\\").lazyRule((name, url) => {\\n                        let {\\n                            share\\n                        } = $.require(\\\"hiker://page/datat\\\");\\n                        return share(name, url)\\n                    }, name, url)\\n                } else {\\n                    try {\\n                        let {\\n                            update\\n                        } = $.require(\\\"hiker://page/datat\\\");\\n                        update(name, url);\\n                        return \\\"toast://更新成功\\\"\\n                    } catch (e) {\\n                        return \\\"toast://更新失败\\\"\\n                    }\\n                }\\n            }, item.name, item.url),\\n            col_type: \\\"text_1\\\"\\n        })\\n    })\\n} catch (e) {\\n    d.push({\\n        title: \\\"错误：\\\" + e.message,\\n        col_type: \\\"text_center_1\\\",\\n        url: \\\"hiker://empty\\\"\\n    })\\n}\\nsetResult(d);\"},{\"col_type\":\"text_1\",\"name\":\"目录\",\"path\":\"menu\",\"rule\":\"js:\\nvar d = [];\\nvar res = getResCode()\\nlet Toc = MY_PARAMS.Toc\\nlet {\\n    getArray,\\n    getText,\\n    getUrl0,\\n    convert\\n} = $.require(\\\"hiker://page/converter\\\");\\n//log(Toc);\\nvar caches = [];\\n\\nfunction getCache() {\\n    let c = readFile(\\\"chapter.json\\\") || \\\"[]\\\";\\n    caches = JSON.parse(c)\\n    let url = MY_URL\\n    addListener(\\\"onRefresh\\\", $.toString((url) => {\\n        let c = readFile(\\\"chapter.json\\\") || \\\"[]\\\";\\n        c = JSON.parse(c)\\n        let che = {\\n            url: url,\\n            next: \\\"\\\",\\n            chapters: []\\n        };\\n        for (let i = 0; i < c.length; i++) {\\n            if (c[i].url == che.url) {\\n                c[i] = che;\\n                log(\\\"clear:\\\" + url)\\n                saveFile(\\\"chapter.json\\\", JSON.stringify(c))\\n                break\\n            }\\n        }\\n    }, url))\\n    for (let it of caches) {\\n        if (it.url == url) {\\n            return it;\\n        }\\n    }\\n    return {\\n        url: url,\\n        next: \\\"\\\",\\n        chapters: []\\n    }\\n}\\n\\nfunction saveCache(che) {\\n    let c = caches\\n    if (c.length > 10) {\\n        c.shift()\\n    }\\n    let exist = false\\n    for (let i = 0; i < c.length; i++) {\\n        if (c[i].url == che.url) {\\n            c[i] = che;\\n            exist = true;\\n            break\\n        }\\n    }\\n    if (!exist) {\\n        c.push(che)\\n    }\\n    saveFile(\\\"chapter.json\\\", JSON.stringify(c))\\n}\\n\\n\\nlet next = Toc.nextTocUrl;\\nlet list = [];\\nif (next && next != \\\"\\\") {\\n    if (next == \\\"option@value\\\") {\\n        next = \\\"text.下一页&&href\\\";\\n    }\\n    MY_URL = MY_PARAMS.u1 || MY_URL;\\n    let headers = MY_PARAMS.charset ? {\\n        \\\"charset\\\": MY_PARAMS.charset,\\n        \\\"Content-Type\\\": \\\"text/html; charset=\\\" + MY_PARAMS.charset\\n    } : {};\\n    next = convert(next);\\n    //log(next);\\n    let cache = getCache();\\n    let nurl = cache.next;\\n    if (nurl == \\\"\\\") {\\n        nurl = MY_URL;\\n    }\\n    let id = MY_URL + \\\"@@\\\" + new Date().getTime();\\n    let aid = \\\"a\\\" + id;\\n    putMyVar(aid, \\\"1\\\");\\n    addListener(\\\"onClose\\\", $.toString((aid) => {\\n        log(\\\"clear: \\\" + aid);\\n        clearMyVar(aid);\\n    }, aid));\\n    let arr = cache.chapters || [];\\n    var cc = (a) => {\\n        return a.map(item => {\\n            var title = getText(item, Toc.chapterName)\\n            if (title != \\\"\\\") {\\n                let u1 = getUrl0(item, Toc.chapterList, Toc.chapterUrl) + \\\"#autoPage##readTheme#\\\";\\n                if (MY_PARAMS.charset) {\\n                    u1 = u1 + \\\";get;\\\" + MY_PARAMS.charset;\\n                }\\n                return {\\n                    title: title,\\n                    url: \\\"hiker://page/content\\\",\\n                    extra: {\\n                        title: title,\\n                        content: MY_PARAMS.content,\\n                        url: u1\\n                    },\\n                    col_type: \\\"text_1\\\"\\n                };\\n            }\\n        });\\n    }\\n    //log(cache.next + \\\":\\\" + cache.chapters.length);\\n    let d2 = cc(arr);\\n    d2.push({\\n        title: \\\"加载中，请稍候...\\\",\\n        url: \\\"\\\",\\n        col_type: \\\"text_center_1\\\",\\n        extra: {\\n            id: id\\n        }\\n    });\\n    d2.unshift({\\n        title: MY_PARAMS.bookName,\\n        img: MY_PARAMS.cover,\\n        url: MY_URL,\\n        col_type: \\\"movie_1_vertical_pic_blur\\\"\\n    });\\n    setResult(d2);\\n    headers[\\\"Referer\\\"] = MY_URL.split(\\\"#\\\")[0];\\n    if (nurl != MY_URL) {\\n        MY_URL = nurl;\\n        res = fetch(MY_URL, {\\n            headers: headers\\n        });\\n    } else if (MY_PARAMS.u1) {\\n        res = fetch(MY_URL, {\\n            headers: headers\\n        });\\n    }\\n    var urls = [nurl];\\n    while (true) {\\n        let a = [];\\n        for (let it of arr) {\\n            a.push(it);\\n        }\\n        cache.chapters = a;\\n        let arr1 = getArray(res, Toc.chapterList);\\n        //log(arr1);\\n        if (arr1 && arr1.length > 0) {\\n            for (let it of arr1) {\\n                arr.push(it)\\n            }\\n        }\\n        addItemBefore(id, cc(arr1));\\n        try {\\n            if (getMyVar(aid, \\\"0\\\") != \\\"1\\\") {\\n                log(\\\"break: \\\" + aid);\\n                break;\\n            }\\n            java.lang.Thread.sleep(50);\\n            let nurl2 = pd(res, \\\"body&&\\\" + next);\\n            if (nurl2 && nurl2 != \\\"\\\" && !urls.includes(nurl2)) {\\n                headers[\\\"Referer\\\"] = cache.next.split(\\\"#\\\")[0];\\n                urls.push(nurl2);\\n                cache.next = nurl2;\\n                nurl = nurl2;\\n                MY_URL = nurl;\\n                res = fetch(nurl, {\\n                    headers: headers\\n                });\\n            } else {\\n                break;\\n            }\\n        } catch (e) {\\n            break;\\n        }\\n    }\\n    deleteItem(id);\\n    //log(cache.next + \\\":end:\\\" + cache.chapters.length);\\n    saveCache(cache);\\n} else {\\n    list = getArray(res, Toc.chapterList);\\n    list.forEach(item => {\\n        //log(item);    \\n        var title = getText(item, Toc.chapterName)\\n        if (title != \\\"\\\") {\\n            let u1 = getUrl0(item, Toc.chapterList, Toc.chapterUrl) + \\\"#autoPage##readTheme#\\\";\\n            if (MY_PARAMS.charset) {\\n                u1 = u1 + \\\";get;\\\" + MY_PARAMS.charset;\\n            }\\n            d.push({\\n                title: title,\\n                url: \\\"hiker://page/content\\\",\\n                extra: {\\n                    title: title,\\n                    content: MY_PARAMS.content,\\n                    url: u1\\n                }\\n            })\\n        }\\n    });\\n\\n    var cp = d.map(function(item) {\\n        return {\\n            \\\"title\\\": item.title,\\n            \\\"url\\\": item.extra.url.replace(\\\"#autoPage##readTheme#\\\", \\\"\\\")\\n        }\\n    });\\n    if (list.length > 0) {\\n        d.unshift({\\n            title: \\\"下载\\\",\\n            url: \\\"hiker://page/download.view#noRecordHistory##noRefresh##noHistory#?rule=本地资源管理\\\",\\n            col_type: \\\"text_center_1\\\",\\n            extra: {\\n                chapterList: cp,\\n                defaultView: \\\"1\\\",\\n                info: {\\n                    bookName: MY_PARAMS.bookName,\\n                    bookTopPic: MY_PARAMS.cover,\\n                    ruleName: \\\"悦读\\\",\\n                    parseCode: $.toString((MY_PARAMS, r0) => {\\n                        let {\\n                            convert\\n                        } = $.require(\\\"hiker://page/converter?rule=\\\" + r0);\\n                        var res = request(input);\\n                        var rule = MY_PARAMS.content;\\n                        let r = convert(rule.content);\\n                        let r1 = r.split(\\\"&&\\\");\\n                        let r2 = r1.slice(0, r1.length - 1).join(\\\"&&\\\");\\n                        let arr = pdfa(res, \\\"body&&\\\" + r2);\\n                        //log(arr);\\n                        var tt = \\\"\\\"\\n                        for (let it of arr) {\\n                            it = it.replace(new RegExp(\\\"\\\\n\\\", \\\"g\\\"), \\\"--br--\\\");\\n                            //log(it);\\n                            var t = pdfh(it, \\\"Text\\\");\\n                            t = t.replace(new RegExp(\\\"--br--\\\", \\\"g\\\"), \\\"<br>\\\");\\n                            if (t == \\\"\\\") {\\n                                continue\\n                            }\\n                            let t2 = t.split(\\\"<br>\\\");\\n                            for (let it2 of t2) {\\n                                if (it2 == \\\"\\\" || it2.length == 1) {\\n                                    continue\\n                                }\\n                                if (!it2.startsWith(\\\"　\\\") && !it2.startsWith(\\\"&nbsp;&nbsp;\\\")) {\\n                                    it2 = \\\"&nbsp;&nbsp;&nbsp;&nbsp;\\\" + it2.trim();\\n                                }\\n                                if (rule.replaceRegex) {\\n                                    it2 = it2.replace(new RegExp(rule.replaceRegex.replace(\\\"##\\\", \\\"\\\"), \\\"g\\\"), \\\"\\\")\\n                                }\\n                                if (it2 == \\\"\\\") {\\n                                    continue\\n                                }\\n                                tt += it2 + \\\"\\\\n\\\"\\n                            }\\n                        }\\n                        return tt\\n                    }, MY_PARAMS, MY_RULE.title),\\n                    type: \\\"novel\\\"\\n                }\\n            }\\n        });\\n    } else {\\n        d.unshift({\\n            title: \\\"未解析到目录列表\\\",\\n            url: MY_URL,\\n            col_type: \\\"text_center_1\\\",\\n        });\\n    }\\n    d.unshift({\\n        title: MY_PARAMS.bookName,\\n        img: MY_PARAMS.cover,\\n        url: MY_URL,\\n        col_type: \\\"movie_1_vertical_pic_blur\\\"\\n    })\\n    setResult(d);\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"内容\",\"path\":\"content\",\"rule\":\"js:\\nvar d = [];\\nlet {\\n    convert\\n} = $.require(\\\"hiker://page/converter\\\");\\nvar res = getResCode();\\nvar rule = MY_PARAMS.content\\nlet r = convert(rule.content);\\nlet r1 = r.split(\\\"&&\\\");\\nlet r2 = r1.slice(0, r1.length - 1).join(\\\"&&\\\");\\nlet arr = pdfa(res, \\\"body&&\\\" + r2);\\n//log(arr);\\nfor (let it of arr) {\\n    it = it.replace(new RegExp(\\\"\\\\n\\\", \\\"g\\\"), \\\"--br--\\\");\\n    //log(it);\\n    var t = pdfh(it, \\\"Text\\\");\\n    t = t.replace(new RegExp(\\\"--br--\\\", \\\"g\\\"), \\\"<br>\\\");\\n    if (t == \\\"\\\") {\\n        continue\\n    }\\n    let t2 = t.split(\\\"<br>\\\");\\n    for (let it2 of t2) {\\n        if (it2 == \\\"\\\" || it2.length == 1) {\\n            continue\\n        }\\n        if (!it2.startsWith(\\\"　\\\") && !it2.startsWith(\\\"&nbsp;&nbsp;\\\")) {\\n            it2 = \\\"&nbsp;&nbsp;&nbsp;&nbsp;\\\" + it2.trim();\\n        }\\n        if (rule.replaceRegex) {\\n            it2 = it2.replace(new RegExp(rule.replaceRegex.replace(\\\"##\\\", \\\"\\\"), \\\"g\\\"), \\\"\\\")\\n        }\\n        if (it2 == \\\"\\\" || it2 == \\\"&nbsp;&nbsp;&nbsp;&nbsp;\\\") {\\n            continue\\n        }\\n        d.push({\\n            title: it2,\\n            url: \\\"\\\",\\n            col_type: \\\"rich_text\\\",\\n            desc: \\\"\\\",\\n            pic_url: \\\"\\\"\\n        });\\n    }\\n}\\nd.unshift({\\n    title: \\\"<big>\\\" + MY_PARAMS.title + \\\"</big>\\\",\\n    col_type: \\\"rich_text\\\"\\n})\\nsetResult(d);\"},{\"col_type\":\"movie_1_vertical_pic\",\"name\":\"搜索\",\"path\":\"search\",\"rule\":\"js:\\nlet {\\n    search\\n} = $.require(\\\"hiker://page/ss\\\");\\nlet d = [];\\nlet kw = getParam(\\\"kw\\\");\\nlet s = kw;\\nsetPageTitle(\\\"搜索\\\" + kw + \\\" \\\" + MY_PARAMS.bookSourceName);\\nif (typeof(getSearchMode) == \\\"undefined\\\") {\\n    confirm({\\n        title: \\\"温馨提示\\\",\\n        content: \\\"你的软件版本太低，更新到最新版才能使用本规则\\\"\\n    })\\n}\\nlet matchMust = getSearchMode() == 1;\\nlet tip = \\\"精确匹配：\\\" + (matchMust ? \\\"是\\\" : \\\"否\\\");\\nif (MY_PAGE == 1) {\\n    d.push({\\n        title: tip,\\n        url: $(\\\"#noLoading#\\\").lazyRule(() => {\\n            setSearchMode(getSearchMode() == 0 ? 1 : 0);\\n            refreshPage();\\n            return \\\"toast://OK\\\";\\n        }),\\n        col_type: \\\"text_1\\\",\\n    });\\n}\\nlet d2 = search(MY_PARAMS.rules, kw, MY_PAGE);\\nfor (let it of d2) {\\n    if (!matchMust || searchContains(it.title, s)) {\\n        it.title = it.title.includes(\\\"““””\\\") ? it.title : \\\"““””\\\" + it.title.replace(new RegExp(\\\"<em>|</em>\\\", \\\"g\\\"), \\\"\\\").replace(new RegExp(s, \\\"g\\\"), \\\"<strong><span style=\\\\\\\"color: #1E90FF\\\\\\\">\\\" + s + \\\"</span></strong>\\\")\\n        d.push(it);\\n    }\\n}\\n\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"转换\",\"path\":\"converter\",\"rule\":\"var convert = (str) => {\\n    return str.replace(/@/g, \\\"&&\\\")\\n        .replace(/\\\\.[0-9]/g, function(a) {\\n            return a.replace(\\\".\\\", \\\",\\\")\\n        })\\n        .replace(new RegExp(\\\" \\\", \\\"g\\\"), \\\"&&\\\")\\n        .replace(/text\\\\.(.*?)&&/g, \\\"*:contains($1),-1&&\\\")\\n        .replace(/-class\\\\./g, \\\".\\\")\\n        .replace(/class\\\\./g, \\\".\\\")\\n        .replace(/tag\\\\./g, \\\"\\\")\\n        .replace(/id\\\\./g, \\\"#\\\")\\n        .replace(/##/g, \\\"!\\\")\\n        .replace(/&&([a-zA-Z\\\\.\\\\-]+?)!([0-9])/g, \\\"--$1,$2&&$1\\\")\\n        .replace(\\\"text\\\", \\\"Text\\\");\\n};\\nlet getArray = (html, rule) => {\\n    let r1 = rule.split(\\\"!\\\")[0].split(\\\"||\\\");\\n    let c = convert(r1[0]);\\n    if (c.includes(\\\"&&li&&a\\\") && c[c.length - 1] == \\\"a\\\") {\\n        c = c.replace(\\\"&&li&&a\\\", \\\"&&li\\\");\\n    }\\n    log(c);\\n    let arr = pdfa(html, \\\"body&&\\\" + c);\\n    if (r1.length > 1) {\\n        let r2 = r1[1].split(\\\":\\\");\\n        let r3 = [];\\n        for (let it of r2) {\\n            try {\\n                let i = parseInt(it);\\n                if (isNaN(i)) {\\n                    continue;\\n                }\\n                r3.push(i);\\n            } catch (e) {}\\n        }\\n        let arr2 = [];\\n        for (let i = 0; i < arr.length; i++) {\\n            if (r3.indexOf(i) < 0) {\\n                arr2.push(arr[i]);\\n            }\\n        }\\n        return arr2;\\n    }\\n    log(\\\"获取失败，失败定位：\\\" + r1)\\n    return arr;\\n};\\nlet getText = (html, rule) => {\\n    var ru = convert(rule)\\n    var r = pdfh(html, ru)\\n    if (r == \\\"\\\") {\\n        log(\\\"返回为空，可能是定位失败：\\\" + rule)\\n    }\\n    return r\\n};\\nlet getUrl0 = (html, parentRule, rule) => {\\n    if (parentRule != null) {\\n        parentRule = parentRule.split(\\\"!\\\")[0];\\n    }\\n    let p = parentRule != null && parentRule[parentRule.length - 1] == \\\"a\\\" ? \\\"a&&\\\" : \\\"\\\";\\n    let r = pd(html, p + convert(rule.split(\\\"##\\\")[0]));\\n    if (r == \\\"\\\") {\\n        log(\\\"返回为空，可能是定位失败：\\\" + rule)\\n    }\\n    return r\\n};\\nlet parseUrl = (url, page) => {\\n    url = url.replace(new RegExp(\\\"{{page}}\\\", \\\"g\\\"), page);\\n    let s = url.split(\\\"<,\\\");\\n    if (s.length > 1) {\\n        if (page > 1) {\\n            let s2 = s[1].split(\\\">\\\");\\n            url = s[0] + s2[0] + (s2.length > 1 ? s2[1] : \\\"\\\")\\n        } else {\\n            url = s[0];\\n        }\\n    }\\n    return url;\\n}\\nlet getCharset = (searchUrl) => {\\n    if (searchUrl) {\\n        if (searchUrl.includes('\\\"gbk\\\"') || searchUrl.includes(\\\"'gbk'\\\")) {\\n            return \\\"gbk\\\"\\n        } else if (searchUrl.includes('\\\"gb2312\\\"') || searchUrl.includes(\\\"'gb2312'\\\")) {\\n            return \\\"gb2312\\\"\\n        }\\n    }\\n    return null\\n}\\n$.exports = {\\n    getArray: getArray,\\n    convert: convert,\\n    getText: getText,\\n    getUrl0: getUrl0,\\n    parseUrl: parseUrl,\\n    getCharset: getCharset\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"聚搜\",\"path\":\"ju\",\"rule\":\"js:\\nvar d = [];\\nlet {\\n    search,\\n    listRules\\n} = $.require(\\\"hiker://page/ss\\\");\\nlet {\\n    all,\\n    use,\\n    data\\n} = listRules(MY_PAGE);\\ndata = data || [];\\nlet s = getParam(\\\"kw\\\");\\nsetPageTitle(\\\"搜索\\\" + s);\\nif (typeof(getSearchMode) == \\\"undefined\\\") {\\n    confirm({\\n        title: \\\"温馨提示\\\",\\n        content: \\\"你的软件版本太低，更新到最新版才能使用本规则\\\"\\n    })\\n}\\nlet matchMust = getSearchMode() == 1;\\nlet tip = \\\"搜索源：\\\" + use + \\\"/\\\" + all + \\\"  精确匹配：\\\" + (matchMust ? \\\"是\\\" : \\\"否\\\");\\nif (MY_PAGE == 1) {\\n    d.push({\\n        title: tip,\\n        url: $(\\\"#noLoading#\\\").lazyRule(() => {\\n            setSearchMode(getSearchMode() == 0 ? 1 : 0);\\n            refreshPage();\\n            return \\\"toast://OK\\\";\\n        }),\\n        col_type: \\\"text_1\\\",\\n        extra: {\\n            id: \\\"yuedu-s-h\\\"\\n        }\\n    });\\n} else if (data.length > 0) {\\n    updateItem(\\\"yuedu-s-h\\\", {\\n        title: tip\\n    });\\n}\\nlet p = MY_PAGE;\\nlet pageid = \\\"yuedu-page\\\" + MY_PAGE;\\nif (data.length > 0) {\\n    d.push({\\n        title: \\\"加载第\\\" + MY_PAGE + \\\"页中，进度：1/\\\" + data.length,\\n        url: \\\"hiker://empty\\\",\\n        col_type: \\\"text_center_1\\\",\\n        desc: \\\"\\\",\\n        pic_url: \\\"\\\",\\n        extra: {\\n            id: pageid\\n        }\\n    });\\n}\\nsetResult(d);\\nif (data.length > 0) {\\n    //多线程加载\\n    let tasks = data.map(it => {\\n        return {\\n            func: function(rule) {\\n                return search(rule, s, 1);\\n            },\\n            param: it,\\n            id: \\\"rule@\\\" + it.name\\n        }\\n    });\\n\\n    batchExecute(tasks, {\\n        func: function(param, id, error, result) {\\n            //log(\\\"listener: \\\" + (result || []).length)\\n            param.i = param.i + 1;\\n            if (result) {\\n                try {\\n                    for (let it of result) {\\n                        param.j = param.j + 1;\\n                        if (matchMust) {\\n                            if (!searchContains(it.title, s)) {\\n                                continue;\\n                            }\\n                        }\\n                        let extra = it.extra || {};\\n                        extra.id = \\\"__app\\\" + MY_PAGE + \\\"@\\\" + param.j;\\n                        extra.bookName = it.title\\n                        extra.cover = it.pic_url || it.img\\n                        addItemBefore(pageid, {\\n                            title: it.title.includes(\\\"““””\\\") ? it.title : \\\"““””\\\" + it.title.replace(new RegExp(\\\"<em>|</em>\\\", \\\"g\\\"), \\\"\\\").replace(new RegExp(s, \\\"g\\\"), \\\"<strong><span style=\\\\\\\"color: #1E90FF\\\\\\\">\\\" + s + \\\"</span></strong>\\\"),\\n                            desc: it.desc,\\n                            url: it.url,\\n                            pic_url: it.pic_url || it.img,\\n                            col_type: it.pic_url || it.img ? 'movie_1_vertical_pic' : \\\"text_1\\\",\\n                            extra: extra\\n                        })\\n                    }\\n                } catch (e) {}\\n\\n            }\\n            if (param.i >= param.all) {\\n                deleteItem(pageid)\\n            } else {\\n                updateItem({\\n                    title: \\\"加载第\\\" + MY_PAGE + \\\"页中，进度：\\\" + (param.i + 1) + \\\"/\\\" + param.all,\\n                    url: \\\"hiker://empty\\\",\\n                    col_type: \\\"text_center_1\\\",\\n                    desc: \\\"\\\",\\n                    pic_url: \\\"\\\",\\n                    extra: {\\n                        id: pageid\\n                    }\\n                })\\n            }\\n        },\\n        param: {\\n            all: data.length,\\n            i: 0,\\n            j: -1\\n        }\\n    });\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"搜索辅助\",\"path\":\"ss\",\"rule\":\"var {\\n    convert,\\n    parseUrl,\\n    getCharset\\n} = $.require(\\\"hiker://page/converter\\\");\\nlet search = (rule, kw, page) => {\\n    let d = [];\\n    let m = rule.ruleSearch\\n    // 阅读=>视界\\n    let u = rule.searchUrl.startsWith(\\\"http\\\") ? rule.searchUrl : rule.bookSourceUrl + rule.searchUrl;\\n    //log(m);\\n    let url1 = parseUrl(u, page).replace(new RegExp(\\\"{{key}}\\\", \\\"g\\\"), kw);\\n    let url2 = url1.split(\\\",{\\\");\\n    let url = url2[0];\\n    let headers = {};\\n    let method = \\\"get\\\";\\n    let body = null;\\n    let c = getCharset(url1);\\n    if (c) {\\n        headers.charset = c;\\n        headers[\\\"Content-Type\\\"] = \\\"text/html; charset=\\\" + c;\\n    }\\n    try {\\n        if (url2.length > 1 && url1.substring(url1.length - 1, url1.length) == \\\"}\\\") {\\n            let ext = \\\"{\\\" + url1.substring(url1.indexOf(\\\",{\\\") + 2, url1.length);\\n            //log(ext);\\n            try {\\n                ext = JSON.parse(ext);\\n            } catch (e) {\\n                eval(\\\"ext=\\\" + ext);\\n            }\\n            if (ext.method && ext.method != \\\"\\\") {\\n                method = ext.method;\\n            }\\n            if (ext.body && ext.body != \\\"\\\") {\\n                body = ext.body;\\n                headers[\\\"Content-Type\\\"] = \\\"application/x-www-form-urlencoded\\\" + (headers.charset ? \\\";charset=\\\" + headers.charset : \\\"\\\");\\n            }\\n        }\\n    } catch (e) {\\n        if (url1.includes('\\\"POST\\\"') || url1.includes('\\\"post\\\"')) {\\n            method = \\\"post\\\";\\n        }\\n    }\\n    if (method == \\\"post\\\" || method == \\\"POST\\\") {\\n        let ct = headers[\\\"Content-Type\\\"];\\n        headers[\\\"Content-Type\\\"] = ct ? ct.replace(\\\"text/html\\\", \\\"application/x-www-form-urlencoded\\\") : \\\"application/x-www-form-urlencoded\\\";\\n    }\\n\\n    let listrule = \\\"body&&\\\" + convert(m.bookList).split(\\\"||\\\")[0]\\n    let author = null;\\n    try {\\n        author = convert(m.author);\\n    } catch (e) {}\\n    let cover = null;\\n    try {\\n        cover = convert(m.coverUrl);\\n    } catch (e) {}\\n    let name = null;\\n    try {\\n        name = convert(m.name);\\n    } catch (e) {}\\n    let bookurl = null;\\n    try {\\n        bookurl = convert(m.bookUrl);\\n    } catch (e) {}\\n    let intro = null;\\n    try {\\n        intro = convert(m.intro);\\n    } catch (e) {}\\n    //setPageTitle(\\\"搜索\\\" + getParam(\\\"kw\\\") + \\\" \\\" + MY_PARAMS.bookSourceName);\\n    //MY_URL = url;\\n    let res = request(url, {\\n        method: method,\\n        headers: headers,\\n        body: body\\n    });\\n    let pdfh1 = (a, b) => {\\n        try {\\n            if (b == null) return \\\"\\\";\\n            return pdfh(a, b);\\n        } catch (e) {\\n            return \\\"\\\";\\n        }\\n    }\\n    let pd1 = (a, b, c) => {\\n        try {\\n            if (b == null) return \\\"\\\";\\n            return pd(a, b, c);\\n        } catch (e) {\\n            return \\\"\\\";\\n        }\\n    }\\n    listrule = listrule.replace(\\\"&&tbody--tr,0&&tr\\\", \\\"&&table tbody tr:gt(0)\\\");\\n    //log(listrule);\\n    let list = pdfa(res, listrule);\\n    //log(list);\\n    //log(name);\\n    list.forEach(item => {\\n        let next = rule.ruleToc.nextTocUrl;\\n        let nexttoc = next && next != \\\"\\\";\\n        let ac = nexttoc ? \\\"\\\": \\\"#autoCache#\\\";\\n        //let ac = \\\"#autoCache#\\\";\\n        let u1 = pd1(item, bookurl, url) + ac + \\\"#immersiveTheme#\\\";\\n        if (c) {\\n            u1 = u1 + \\\";get;\\\" + c\\n        }\\n        d.push({\\n            title: pdfh1(item, name),\\n            img: pd1(item, cover, url),\\n            url: \\\"hiker://page/menu\\\",\\n            desc: rule.bookSourceName + \\\"\\\\n\\\" + pdfh1(item, author) + \\\"\\\\n\\\" + pdfh1(item, intro),\\n            extra: {\\n                \\\"Toc\\\": rule.ruleToc,\\n                \\\"content\\\": rule.ruleContent,\\n                \\\"bookName\\\": parseDomForHtml(item, name),\\n                \\\"cover\\\": parseDom(item, cover, url),\\n                url: nexttoc ? \\\"hiker://empty#\\\" + u1 : u1,\\n                u1: nexttoc ? u1 : null,\\n                inheritTitle: false,\\n                charset: c\\n            }\\n        })\\n    });\\n    return d;\\n}\\n$.exports = {\\n    convert: convert,\\n    search: search,\\n    listRules: (page, rule) => {\\n        try {\\n            //并发数量\\n            let size = 16;\\n            let {\\n                load,\\n                loadRules,\\n                getSelect\\n            } = $.require(\\\"hiker://page/datat\\\");\\n            let data = load();\\n            let select = getSelect(data);\\n            let rules = data.length > 0 ? loadRules(select.name) : [];\\n            if (!page && !rule) {\\n                return rules.map(it => it.name);\\n            }\\n            if (rule != null) {\\n                return rules.filter(i => i.name == rule);\\n            }\\n            let start = (page - 1) * size;\\n            if (rules.length < start + 1) {\\n                return [];\\n            }\\n            let len = size;\\n            if (rules.length < page * size) {\\n                len = rules.length - start\\n            }\\n            let all = rules.length;\\n            let use = (page - 1) * size + len;\\n            return {\\n                all: all,\\n                use: use,\\n                data: rules.slice(start, start + len)\\n            };\\n        } catch (e) {\\n            return {\\n                all: 0,\\n                use: 0,\\n                data: []\\n            }\\n        }\\n    }\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"数据\",\"path\":\"datat\",\"rule\":\"let load = function() {\\n    try {\\n        return JSON.parse(fetch(\\\"hiker://files/yuedu/list.json\\\")).urls;\\n    } catch (e) {\\n        return [];\\n    }\\n}\\nlet loadRules = function(name) {\\n    try {\\n        let list = JSON.parse(fetch(\\\"hiker://files/yuedu/\\\" + md5(name) + \\\".json\\\"));\\n        return list.filter(it => {\\n            let s = JSON.stringify(it)\\n            if (s.includes(\\\"<js>\\\") || s.includes(\\\"@js:\\\") || s.includes(\\\"$.\\\") || s.includes(\\\"🔞\\\")) {\\n                return false\\n            } else {\\n                return true\\n            }\\n        });\\n    } catch (e) {\\n        return [];\\n    }\\n}\\nlet remove = function(url) {\\n    let data = load();\\n    data = data.filter(it => it.url != url);\\n    writeFile(\\\"hiker://files/yuedu/list.json\\\", JSON.stringify({\\n        urls: data\\n    }))\\n}\\nlet rename = function(url, name) {\\n    let arr = load();\\n    for (let i in arr) {\\n        if (arr[i].url == url) {\\n            arr[i].name = name;\\n        }\\n    }\\n    writeFile(\\\"hiker://files/yuedu/list.json\\\", JSON.stringify({\\n        urls: arr\\n    }))\\n}\\nlet add = function(name, url) {\\n    let data = load();\\n    data = data.filter(it => it.url != url);\\n    data.push({\\n        name: name,\\n        url: url\\n    });\\n    writeFile(\\\"hiker://files/yuedu/list.json\\\", JSON.stringify({\\n        urls: data\\n    }))\\n}\\nlet update = function(name, url) {\\n    let t = fetch(url)\\n    JSON.parse(t)\\n    writeFile(\\\"hiker://files/yuedu/\\\" + md5(name) + \\\".json\\\", t)\\n}\\nlet share = function(name, url) {\\n    return \\\"copy://悦读订阅数据分享，复制整条口令打开软件即可导入\\\\n\\\" + name + \\\"：\\\" + url + \\\"@import=js:$.require('hiker://page/datat?rule=\\\" + MY_RULE.title + \\\"').ca()\\\"\\n}\\nlet cloudAdd = function() {\\n    let s = input.split(\\\"：\\\");\\n    if (s.length > 1) {\\n        add(s[0], s[1]);\\n        update(s[0], s[1]);\\n    }\\n    return \\\"toast://已导入悦读订阅源“\\\" + s[0] + \\\"”\\\"\\n}\\nlet getSelect = function(data) {\\n    if (data == null) {\\n        data = load();\\n    }\\n    if (data.length == 0) {\\n        return {};\\n    }\\n    let tab = getItem(\\\"tab\\\", data[0].url);\\n    let select = data.filter(it => it.url == tab);\\n    if (select.length <= 0) {\\n        return data[0];\\n    } else {\\n        return select[0];\\n    }\\n}\\n$.exports = {\\n    add: add,\\n    update: update,\\n    remove: remove,\\n    rename: rename,\\n    load: load,\\n    loadRules: loadRules,\\n    getSelect: getSelect,\\n    share: share,\\n    ca: cloudAdd\\n}\"}]","proxy":"","icon":"https://s3.bmp.ovh/imgs/2022/10/02/9248af2624d64904.png"},{"last_chapter_rule":"","title":"精华书阁","author":"","version":6,"type":"read","url":"https://m.jhssd.com/list/fyAll_fypage.html","col_type":"movie_1_vertical_pic","class_name":"玄幻&修真&都市&穿越&网游&科幻&灵异&女生&其它","class_url":"1&2&3&4&5&6&7&8&9","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\nvar html = getResCode();\nvar list = parseDomForArray(html, '#list&&ul');\nfor (var i in list) {\n    d.push({\n        title: \"《\" + parseDomForHtml(list[i], '.xsm&&Text') + \"》\" + '\\n' + '' + parseDomForHtml(list[i], '.tjxs&&span,1&&Text') + '\\t\\t' + '状态：' + parseDomForHtml(list[i], '.tjrs&&Text'),\n        desc: parseDomForHtml(list[i], '.tjxs&&span,2&&Text'),\n        img: parseDom(list[i], 'img&&src') + `@Referer=`,\n        url: \"hiker://page/cp\",\n        extra: {\n            url: pd(list[i], 'a&&href')+'index_1.html'\n        }\n    })\n}\nsetResult(d);","searchFind":"js:\nvar d = [];\n\nvar list = parseDomForArray(getResCode(), 'body&&.searchbook');\nfor (var j in list) {\n    d.push({\n        title: parseDomForHtml(list[j], '.bookname&&Text'),\n        desc: parseDomForHtml(list[j], '.author&&Text'),\n        content: parseDomForHtml(list[j], '.update&&Text'),\n        pic_url: parseDom(list[j], 'img&&src'),\n        url: \"hiker://page/cp\",\n        extra: {\n            url: pd(list[j], 'a&&href') + 'index_1.html'\n        }\n    })\n}\nsetResult(d)","search_url":"https://m.jhssd.com/search.html?ie=utf-8&word=**","group":"阅读","detail_col_type":"text_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"目录\",\"path\":\"chapter\",\"rule\":\"let cfg = {\\n    分页列表: \\\".listpage&&select&&option\\\",\\n    分页链接: \\\"option&&value\\\",\\n    分页请求头: {\\n        \\\"User-Agent\\\": MOBILE_UA,\\n    },\\n    一页章节数: 20,\\n    章节列表: \\\"body&&.chapter,1&&li\\\",\\n    章节标题: \\\"a&&Text\\\",\\n    章节链接: \\\"a&&href\\\",\\n    缓存个数: 15\\n}\\n\\n\\nvar code = getResCode()\\nvar caches;\\n\\nfunction getCache() {\\n    let c = readFile(\\\"chapter.json\\\") || \\\"[]\\\";\\n    caches = JSON.parse(c)\\n    let url = getUrl()\\n    log(url)\\n    addListener(\\\"onRefresh\\\", $.toString((url) => {\\n        let c = readFile(\\\"chapter.json\\\") || \\\"[]\\\";\\n        c = JSON.parse(c)\\n        let che = {\\n            url: url,\\n            page: 0,\\n            chapters: []\\n        };\\n        for (let i = 0; i < c.length; i++) {\\n            if (c[i].url == che.url) {\\n                c[i] = che;\\n                log(\\\"clear:\\\" + url)\\n                saveFile(\\\"chapter.json\\\", JSON.stringify(c))\\n                break\\n            }\\n        }\\n    }, url))\\n    for (let it of caches) {\\n        if (it.url == url) {\\n            return it;\\n        }\\n    }\\n    return {\\n        url: url,\\n        page: 0,\\n        chapters: []\\n    }\\n}\\n\\nfunction saveCache(che) {\\n    let c = caches\\n    if (c.length > cfg.缓存个数) {\\n        c.shift()\\n    }\\n    let exist = false\\n    for (let i = 0; i < c.length; i++) {\\n        if (c[i].url == che.url) {\\n            c[i] = che;\\n            exist = true;\\n            break\\n        }\\n    }\\n    if (!exist) {\\n        c.push(che)\\n    }\\n    saveFile(\\\"chapter.json\\\", JSON.stringify(c))\\n}\\n\\nlet cache = getCache();\\n\\nlet mp = pdfa(code, cfg.分页列表)\\nlet page = mp.length;\\nlog(\\\"实际页数：\\\" + page)\\nlog(\\\"缓存页数：\\\" + cache.page)\\nif (page == cache.page) {\\n    //已完结，目录全部缓存了\\n    setResult(cache.chapters)\\n    return\\n}\\n//解析本地没有的缓存\\nlet urls = []\\nlet htmls = []\\n//log(mp)\\nfor (let i = cache.page; i < mp.length; i++) {\\n    if (i == 0) {\\n        htmls.push(code)\\n        continue\\n    }\\n    let it = mp[i];\\n    urls.push({\\n        url: pd(it, cfg.分页链接),\\n        options: {\\n            headers: cfg.分页请求头 || {}\\n        }\\n    })\\n}\\n//log(urls)\\nlet d = [].concat(cache.chapters)\\nhtmls = htmls.concat(batchFetch(urls))\\n//log(htmls)\\nfor (let it of htmls) {\\n    if (it == \\\"\\\") {\\n        break\\n    }\\n    let list = pdfa(it, cfg.章节列表)\\n    let temp = []\\n    for (let ii of list) {\\n        temp.push({\\n            title: pdfh(ii, cfg.章节标题).split(\\\" （\\\")[0].split(\\\"（\\\")[0],\\n            url: pd(ii, cfg.章节链接) + \\\"#autoPage##readTheme#@rule=js:$.require('hiker://page/content')\\\"\\n        });        \\n    }\\n    log(list.length)\\n    if (list.length == cfg.一页章节数) {\\n        //章节齐全的才放本地缓存\\n        cache.page = cache.page + 1\\n        cache.chapters = cache.chapters.concat(temp)\\n    }\\n    d = d.concat(temp)\\n}\\nsaveCache(cache)\\nsetResult(d)\"},{\"col_type\":\"movie_3\",\"name\":\"正文\",\"path\":\"content\",\"rule\":\"var d = [];\\nd.push({\\n    col_type: \\\"rich_text\\\",\\n    title: \\\"<big>\\\" + parseDomForHtml(getResCode(), \\\"h1&&Text\\\") + \\\"</big>\\\",\\n});\\n\\nfunction 净化(c) {\\n    return c.replace(/精华书阁|，最快更新|https:\\\\/\\\\/m\\\\.jhssd\\\\.com|m\\\\.jhssd\\\\.com|最新章节！|最快更新最新章节/g, \\\"\\\")\\n        .split(\\\"<br>\\\")\\n        .filter(i => !i.includes(\\\"<a \\\") && !i.includes(\\\"<center\\\") && !i.includes(\\\"最快更新\\\") && !i.includes(\\\"本章未完\\\") && !i.includes(\\\"免费阅读\\\"))\\n        .join(\\\"<br>\\\")\\n        .replace(/<br>\\\\s*<br>/g, \\\"<br><br>\\\")\\n        .replace(/<br>[\\\\s|<br>]*<br>/g, \\\"<br><br>\\\");\\n}\\n\\nfunction getContent(url, code) {\\n    if (code == null) {\\n        code = request(url)\\n    }\\n    let c = pdfh(code, \\\"#nr1&&Html\\\")\\n    if (c.indexOf(\\\"点击下一页继续阅读\\\") > 0) {\\n        let next = pd(code, \\\".nr_page,1&&.next&&a&&href\\\")\\n        c = 净化(c) + \\\"<br>\\\" + getContent(next, null)\\n    }\\n    return 净化(c);\\n}\\n\\nlet c = getContent(null, getResCode())\\n\\nd.push({\\n    title: c,\\n    col_type: 'rich_text',\\n    extra: {\\n        textSize: 18,\\n        click: true\\n    }\\n});\\nsetResult(d);\"},{\"col_type\":\"text_1\",\"name\":\"目录分页\",\"path\":\"cp\",\"rule\":\"js:\\n$.require(\\\"hiker://page/chapter\\\")\"}]","proxy":"","icon":"https://m.jhssd.com/favicon.ico"},{"last_chapter_rule":"","title":"Zlib Pro","author":"Joe","version":6,"type":"read","url":"hiker://empty","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nlet layout = [];\nlayout.push({\n    col_type: \"big_blank_block\"\n});\nlayout.push({\n    col_type: \"big_blank_block\"\n});\nlayout.push({\n    col_type: \"big_blank_block\"\n});\nlayout.push({\n    col_type: \"big_blank_block\"\n});\n\nlayout.push({\n    title: '<h1 style=\"text-align: center;\"><big><font color=\"#FEBD6F\">Zlib Pro</font></big><br><small><font color=\"#FB6C73\">下书好帮手</font></small></h1>',\n    col_type: \"rich_text\"\n});\nlayout.push({\n    col_type: \"input\",\n    url: $.toString(() => {\n        return \"hiker://page/搜索?page=fypage&kw=\" + input\n    }),\n    title: \"搜索\"\n})\nlayout.push({\n    col_type: \"big_blank_block\"\n});\nlayout.push({\n    col_type: \"big_blank_block\"\n});\nlayout.push({\n    col_type: \"big_blank_block\"\n});\nlayout.push({\n    title: \"🔰 历史记录\",\n    col_type: \"text_1\",\n    url: $(\"确认清除？\").confirm(() => {\n        clearItem(\"history\")\n        refreshPage()\n        toast(\"清理成功\")\n    })\n});\nvar history = storage0.getItem(\"history\", [])\nhistory.forEach(item => {\n    layout.push({\n        title: item,\n        url: \"hiker://page/搜索?page=fypage&kw=\" + item,\n        col_type: \"flex_button\"\n    })\n})\nsetResult(layout);","searchFind":"js:\nsetResult([{\n    url: \"hiker://page/搜索?page=fypage&kw=\" + getParam(\"kw\"),\n    title: \"搜索：\" + getParam(\"kw\")\n}])","search_url":"hiker://empty?kw=**","group":"阅读","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"text_1\",\"name\":\"搜索\",\"path\":\"搜索\",\"rule\":\"js:\\nvar d = [];\\ntry {\\n    if (MY_PAGE == 1) {\\n        var engines = [\\\"Ylibrary\\\", \\\"Zhelper_v5\\\", \\\"Zhelper_v4\\\", \\\"网盘\\\"]\\n        engines.forEach(item => {\\n            d.push({\\n                title: getItem(\\\"engine\\\", \\\"Ylibrary\\\") == item ? `‘‘’’<strong><font color=\\\"#f13b66a\\\">◉ </front></strong>${item}` : item,\\n                url: $().lazyRule((n) => {\\n                    setItem(\\\"engine\\\", n)\\n                    refreshPage()\\n                    return \\\"toast://已切换引擎：\\\" + n\\n                }, item),\\n                col_type: \\\"scroll_button\\\"\\n            })\\n        })\\n    }\\n    var history = storage0.getItem(\\\"history\\\", [])\\n    if (!history.includes(getParam(\\\"kw\\\"))) {\\n        history.unshift(getParam(\\\"kw\\\"))\\n        storage0.setItem(\\\"history\\\", history)\\n    }\\n    $.require(\\\"hiker://page/api\\\")[getItem(\\\"engine\\\", \\\"Ylibrary\\\")](getParam(\\\"kw\\\"), MY_PAGE)\\n} catch (e) {\\n    toast(\\\"搜索失败了，请切换引擎重试\\\")\\n    log(e.message)\\n}\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"api\",\"path\":\"api\",\"rule\":\"$.exports = {\\n    servers: [\\\"https://dweb.link/ipfs/\\\", \\\"https://ipfs.jpu.jp/ipfs/\\\", \\\"https://cf-ipfs.com/ipfs/\\\", \\\"https://gateway.pinata.cloud/ipfs/\\\", \\\"https://ipfs-gateway.cloud/ipfs/\\\"],\\n    getFileSize: function(size) {\\n        if (size <= 0) {\\n            return \\\"\\\";\\n        }\\n        let unitForm = [\\\"Byte\\\", \\\"KB\\\", \\\"MB\\\", \\\"GB\\\", \\\"TB\\\"];\\n        for (let i = 0, len = unitForm.length; i < len; i++) {\\n            if (size > 1024) {\\n                size /= 1024;\\n                continue;\\n            } else {\\n                return size.toFixed(2).replace(/(\\\\.00)$/, \\\"\\\") + unitForm[i];\\n            }\\n        }\\n        return \\\"ERROR:数值过大\\\";\\n    },\\n    Ylibrary: function(kw, page) {\\n        var res = JSON.parse(post(\\\"https://api.ylibrary.org/api/search/\\\", {\\n            body: JSON.stringify({\\n                \\\"keyword\\\": kw,\\n                \\\"page\\\": page,\\n                \\\"sensitive\\\": false\\n            })\\n        })).data\\n        res.forEach(item => {\\n            d.push({\\n                title: item.title,\\n                desc: `““””<small>作者:${item.author} 出版社:${item.publisher?item.publisher:\\\"暂无\\\"} ISBN:${item.isbn?item.isbn:\\\"暂无\\\"} 出版时间:${item.year?item.year:\\\"暂无\\\"} 文件格式:${item.extension} 文件大小:${$.require(\\\"api\\\").getFileSize(item.filesize)}</small>`,\\n                url: $().lazyRule((id) => {\\n                    try {\\n                        var res = JSON.parse(post(\\\"https://api.ylibrary.org/api/detail/\\\", {\\n                            body: JSON.stringify({\\n                                \\\"id\\\": id,\\n                                \\\"source\\\": \\\"zlibrary\\\"\\n                            })\\n                        }))\\n                        var servers = $.require(\\\"hiker://page/api\\\").servers\\n                        servers.unshift(\\\"ipfs下载\\\")\\n                        servers.unshift(\\\"百度云盘转存\\\")\\n                        if (res.in_libgen) {\\n                            servers.unshift(\\\"Libgen(推荐)\\\")\\n                        }\\n                        return $(servers, 1, \\\"选择线路\\\").select((res) => {\\n                            if (input == \\\"Libgen(推荐)\\\") {\\n                                return \\\"download://\\\" + pdfh(request(\\\"http://library.lol/main/\\\" + res.md5), \\\"#download&&a&&href\\\")\\n                            } else if (input == \\\"百度云盘转存\\\") {\\n                                return $.require(\\\"api\\\").baidu(res)\\n                            } else if (input == \\\"ipfs下载\\\") {\\n                                return `x5://https://ipfs-checker.1kbtool.com/${res.ipfs_cid}`\\n                            } else {\\n                                return \\\"download://\\\" + input + res.ipfs_cid\\n                            }\\n                        }, res)\\n                    } catch (e) {\\n                        log(e.message)\\n                        return \\\"toast://解析失败\\\"\\n                    }\\n                }, item.id)\\n            })\\n        })\\n    },\\n    Zhelper_v5: function(kw, page) {\\n        var res = JSON.parse(post(\\\"https://api.v5.zhelper.net/api/search/\\\", {\\n            body: JSON.stringify({\\n                \\\"keyword\\\": kw,\\n                \\\"page\\\": page,\\n                \\\"sensitive\\\": false\\n            })\\n        })).data\\n        res.forEach(item => {\\n            d.push({\\n                title: item.title,\\n                desc: `““””<small>作者:${item.author} 出版社:${item.publisher?item.publisher:\\\"暂无\\\"} ISBN:${item.isbn?item.isbn:\\\"暂无\\\"} 出版时间:${item.year?item.year:\\\"暂无\\\"} 文件格式:${item.extension} 文件大小:${$.require(\\\"api\\\").getFileSize(item.filesize)}</small>`,\\n                url: $().lazyRule((id) => {\\n                    try {\\n                        var res = JSON.parse(post(\\\"https://api.v5.zhelper.net/api/detail/\\\", {\\n                            body: JSON.stringify({\\n                                \\\"id\\\": id,\\n                                \\\"source\\\": \\\"zlibrary\\\"\\n                            })\\n                        }))\\n                        var servers = $.require(\\\"hiker://page/api\\\").servers\\n                        servers.unshift(\\\"ipfs下载\\\")\\n                        servers.unshift(\\\"百度云盘转存\\\")\\n                        if (res.in_libgen) {\\n                            servers.unshift(\\\"Libgen(推荐)\\\")\\n                        }\\n                        return $(servers, 1, \\\"选择线路\\\").select((res) => {\\n                            if (input == \\\"Libgen(推荐)\\\") {\\n                                return \\\"download://\\\" + pdfh(request(\\\"http://library.lol/main/\\\" + res.md5), \\\"#download&&a&&href\\\")\\n                            } else if (input == \\\"百度云盘转存\\\") {\\n                                return $.require(\\\"api\\\").baidu(res)\\n                            } else if (input == \\\"ipfs下载\\\") {\\n                                return `x5://https://ipfs-checker.1kbtool.com/${res.ipfs_cid}`\\n                            } else {\\n                                return \\\"download://\\\" + input + res.ipfs_cid\\n                            }\\n                        }, res)\\n                    } catch (e) {\\n                        log(e.message)\\n                        return \\\"toast://解析失败\\\"\\n                    }\\n                }, item.id)\\n            })\\n        })\\n    },\\n    Zhelper_v4: function(kw, page) {\\n        var res = JSON.parse(post(\\\"https://api.mibooks.tk/api/search/\\\", {\\n            body: JSON.stringify({\\n                \\\"keyword\\\": kw,\\n                \\\"page\\\": page,\\n                \\\"sensitive\\\": false\\n            })\\n        })).data\\n        res.forEach(item => {\\n            d.push({\\n                title: item.title,\\n                desc: `““””<small>作者:${item.author} 出版社:${item.publisher?item.publisher:\\\"暂无\\\"} ISBN:${item.isbn?item.isbn:\\\"暂无\\\"} 出版时间:${item.year?item.year:\\\"暂无\\\"} 文件格式:${item.extension} 文件大小:${$.require(\\\"api\\\").getFileSize(item.filesize)}</small>`,\\n                url: $().lazyRule((id) => {\\n                    try {\\n                        var servers = ['https://test1.zlib.download', 'https://test2.zlib.download', 'https://zlib.jg12123.one']\\n                        return $(servers, 1, \\\"请选择下载线路\\\").select((id) => {\\n                            return \\\"download://\\\" + input + \\\"/download/\\\" + id + \\\"/\\\"\\n                        }, id)\\n                    } catch (e) {\\n                        log(e.message)\\n                        return \\\"toast://解析失败\\\"\\n                    }\\n                }, item.id)\\n            })\\n        })\\n    },\\n    网盘: function(kw, page) {\\n        var res = JSON.parse(post(\\\"https://api.bookpan.net/api/search/\\\", {\\n            body: JSON.stringify({\\n                \\\"keyword\\\": kw,\\n                \\\"page\\\": page,\\n                \\\"sensitive\\\": false\\n            })\\n        })).data\\n        res.forEach(item => {\\n            d.push({\\n                title: item.info,\\n                desc: \\\"““””<small>\\\" + item.source + \\\"</small>\\\",\\n                url: $().lazyRule((id, source) => {\\n                    try {\\n                        var res = JSON.parse(post(\\\"https://api.bookpan.net/api/detail/\\\", {\\n                            body: JSON.stringify({\\n                                \\\"id\\\": id,\\n                                \\\"source\\\": source\\n                            })\\n                        }))\\n                        if (res.download_link) {\\n                            var dict = {}\\n                            res.download_link.unshift({\\n                                name: \\\"原网页\\\",\\n                                url: res.url\\n                            })\\n                            return $(res.download_link.map(function(item) {\\n                                return item.name\\n                            }), 1, \\\"请选择下载线路\\\").select((links) => {\\n                                return links[links.map(function(item) {\\n                                    return item.name\\n                                }).indexOf(input)].url\\n                            }, res.download_link)\\n                        } else {\\n                            return res.url\\n                        }\\n                    } catch (e) {\\n                        log(e.message)\\n                        return \\\"toast://解析失败\\\"\\n                    }\\n                }, item.id, item.source)\\n            })\\n        })\\n    },\\n    baidu: function(res) {\\n        try {\\n            if (!fileExist(\\\"hiker://files/rules/Joe/baidu.txt\\\")) {\\n                toast(\\\"还未登陆\\\")\\n                return $().rule(() => {\\n                    setResult([{\\n                        url: \\\"https://pan.baidu.com/\\\",\\n                        col_type: \\\"x5_webview_single\\\",\\n                        desc: \\\"100%&&float\\\",\\n                        extra: {\\n                            js: $.toString(() => {\\n                                var url = location.href\\n                                if (url.includes(\\\"https://pan.baidu.com/wap\\\")) {\\n                                    fba.writeFile(\\\"hiker://files/rules/Joe/baidu.txt\\\", fba.getCookie(\\\"\\\"))\\n                                    alert(\\\"已获取到cookie，返回即可\\\")\\n                                    fba.back()\\n                                }\\n                            }),\\n                            ua: MOBILE_UA,\\n                            canBack: true\\n                        }\\n                    }])\\n                })\\n            } else {\\n                var bdstoken = JSON.parse(request(\\\"https://pan.baidu.com/api/gettemplatevariable?fields=[%22bdstoken%22]\\\", {\\n                    headers: {\\n                        Cookie: request(\\\"hiker://files/rules/Joe/baidu.txt\\\")\\n                    }\\n                })).result.bdstoken\\n                return $(\\\"/电子书/\\\" + res.title + \\\".\\\" + res.extension, \\\"请输入保存路径\\\").input((bdstoken, res) => {\\n                    var res = JSON.parse(post(\\\"https://pan.baidu.com/rest/2.0/xpan/file?method=create&bdstoken=\\\" + bdstoken, {\\n                        headers: {\\n                            Cookie: request(\\\"hiker://files/rules/Joe/baidu.txt\\\")\\n                        },\\n                        body: {\\n                            size: res.filesize + \\\"\\\",\\n                            path: input,\\n                            block_list: [res.md5],\\n                            rtype: 0\\n                        }\\n                    }))\\n                    if (res.errno == 0) {\\n                        return \\\"toast://转存成功\\\"\\n                    } else if (res.errno == -8) {\\n                        return \\\"toast://转存失败，已经保存过这个文件了\\\"\\n                    } else if (res.errno == 2) {\\n                        return \\\"toast://转存失败，错误的路径\\\"\\n                    } else {\\n                        log(res.errno)\\n                        return \\\"toast://转存失败\\\"\\n                    }\\n                }, bdstoken, res)\\n            }\\n        } catch (e) {\\n            log(e.message)\\n            return \\\"toast://转存失败\\\"\\n        }\\n    }\\n}\"}]","proxy":"","icon":"https://lanmeiguojiang.com/tubiao/ke/38.png"},{"last_chapter_rule":"","title":"奇书","author":"@LoyDgIk","version":8,"type":"video","url":"http://m.qishuxsw.com/fyclassindex_fypage.html[firstPage=http://m.qishuxsw.com/fyclass;gbk];gbk","col_type":"movie_1_vertical_pic","class_name":"最新全本&玄幻奇幻&武侠仙侠&女频言情&现代都市&历史军事&游戏竞技&精校小说","class_url":"newbook/&xuanhuan/&xianxia/&yanqing/&dushi/&lishi/&youxi/&jingjiao/","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"#ulist&&li;.book_title&&Text;img&&src;p,1&&Text+\"\\n\"+p,-1&&Text;a&&href.js:(input.startsWith(\"http\")?\"hiker://empty##\"+input:\"hiker://empty##http://m.qishuxsw.com\"+input)+\"#immersiveTheme##noRecordHistory##noHistory#\"","searchFind":".main&&.listtxt,1:;a&&Text;a&&href.js:(input.startsWith(\"http\")?\"hiker://empty##\"+input:\"hiker://empty##http://m.qishuxsw.com\"+input)+\"#immersiveTheme##noRecordHistory##noHistory#\";.bookauthor&&Text;;","search_url":"http://qishuk.com/e/search/index.php?show=title,writer&tbname=book&tempid=1&keyboard=**;post;gbk","group":"阅读","detail_col_type":"text_center_1","detail_find_rule":"js:\n(function() {\n    let html = fetch(MY_URL.replace(\"hiker://empty##\", \"\"), {\n        headers: {\n            'content-type': 'text/plain; charst=gbk'\n        }\n    });\n    const Config = $.require(\"hiker://page/Config.json?rule=本地资源管理\");\n    if (!html) {\n        setResult([{\n            col_type: \"big_big_blank_block\",\n        }, {\n            title: '<h1 style=\"text-align: center;\">网络不佳，加载失败</h1>',\n            col_type: \"rich_text\",\n        }]);\n        return;\n    }\n    \n    let d = [];\n    let title = pdfh(html, \".title&&Text\");\n    let desc = pdfa(html, \".bookcover&&p\").map(v => pdfh(v, \"p&&Text\")).join(\"\\n\");\n    d.push({\n        title: title,\n        pic_url: pd(html, \".pic&&img&&src\"),\n        desc: desc,\n        url: $(desc).confirm(() => {}),\n        col_type: \"movie_1_vertical_pic_blur\",\n        extra: {\n            gradient: true\n        }\n    });\n   \n    let path = \"file://\" + Config.externalImportPath + title + \".txt\";\n    let butText = \"下载到阅读器\";\n    let butCol = \"text_center_1\";\n\n    if (fileExist(path)) {\n        butText = \"重新下载\";\n        butCol = \"text_3\";\n        d.push({\n            title: \"打开书架\",\n            url: \"hiker://page/externalimportTxt.view?rule=本地资源管理\",\n            col_type: butCol\n        });\n        d.push({\n            title: \"本地阅读\",\n            url: \"hiker://page/txtParser.view?rule=本地资源管理\",\n            col_type: butCol,\n            extra: {\n                isCache: true,\n                path: path\n            }\n        });\n    }\n    d.push({\n        title: butText,\n        url: !Config.externalImportPath ? \"toast://未安装本地资源管理\" : $(pd(html, \".greenBtn:matches(下载)&&a&&href\") + \"#noLoading#\").lazyRule((title, path) => {\n            showLoading(\"下载中...\");\n            input = pd(fetch(input), \".greenBtn&&href\");\n            downloadFile(input, path);\n            refreshPage(false);\n            log(\"『\" + title + \"』下载的完成\");\n            hideLoading();\n            toast(\"『\" + title + \"』下载的完成\");\n            return \"hiker://page/txtParser.view?rule=本地资源管理&path=\" + encodeURIComponent(path);\n        }, title, path),\n        col_type: butCol,\n        extra: {\n            isCache: true\n        }\n    });\n    d.push({\n        title: \"<big><strong>小说简介</strong></big><br>　　\" + pdfh(html, \".bookintro&&.con&&Text\"),\n        col_type: \"rich_text\",\n    });\n    \n    setResult(d);\n})()","sdetail_col_type":"text_center_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":"http://m.qishuxsw.com/images/logo.gif"}
]